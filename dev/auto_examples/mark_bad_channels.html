
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>03. Interactive data inspection and bad channel selection &#8212; MNE-BIDS 0.8.dev0 documentation</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
    <!-- add `style` or `link` tags with your CSS `@font-face` declarations here -->
    <!-- ... and a `style` tag with setting `font-family` in `body` and `.header-style` -->
    <!-- ... and optionally preload the `woff2` for snappier page loads -->
    <!-- or add a `style` tag with a font fallback chain with good cross-platform coverage -->
    <style>
        body,.header-style {font-family: 'Source Sans Pro', sans-serif;}
        code,kbd,pre,samp {font-family: 'Source Code Pro', monospace;}
    </style>

    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-rendered-html.css" />
    <link rel="stylesheet" type="text/css" href="../_static/style.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="04. Convert EEG data to BIDS format" href="convert_eeg_to_bids.html" />
    <link rel="prev" title="02. Convert MNE sample data to BIDS format" href="convert_mne_sample.html" />
    <link rel="canonical" href="https://mne.tools/mne-bids/stable/index.html" />
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <script type="text/javascript" src="../_static/scrollfix.js"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    
<a class="navbar-brand" href="../index.html">
<p class="title">MNE-BIDS</p>
</a>

    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../whats_new.html">
  News
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../install.html">
  Install
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../use.html">
  Use
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../api.html">
  API
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../generated/cli.html">
  CLI
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../contribute.html">
  Contribute
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Quick Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/mne-tools/mne-bids" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="read_bids_datasets.html">
   01. Read BIDS datasets
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="convert_mne_sample.html">
   02. Convert MNE sample data to BIDS format
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   03. Interactive data inspection and bad channel selection
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="convert_eeg_to_bids.html">
   04. Convert EEG data to BIDS format
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="convert_group_studies.html">
   05. BIDS conversion for group studies
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="rename_brainvision_files.html">
   06. Rename BrainVision EEG data files
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="convert_mri_and_trans.html">
   07. Save and load T1-weighted MRI scan along with anatomical landmarks in BIDS
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="convert_ieeg_to_bids.html">
   08. Convert iEEG data to BIDS format
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="convert_empty_room.html">
   09. Storing empty room data in BIDS format
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="bidspath.html">
   10. An introduction to BIDSPath
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="create_bids_folder.html">
   11. Creating BIDS-compatible folder names and filenames
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="update_bids_datasets.html">
   12. Update BIDS datasets
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="write_modified_files.html">
   13. Writing modified files with MNE-BIDS
  </a>
 </li>
</ul>

  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#interactive-use">
   Interactive use
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#non-interactive-programmatic-bad-channel-selection">
   Non-interactive (programmatic) bad channel selection
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p>Click <a class="reference internal" href="#sphx-glr-download-auto-examples-mark-bad-channels-py"><span class="std std-ref">here</span></a>
to download the full example code or to run this example in your browser via Binder</p>
</div>
<div class="sphx-glr-example-title section" id="interactive-data-inspection-and-bad-channel-selection">
<span id="sphx-glr-auto-examples-mark-bad-channels-py"></span><h1>03. Interactive data inspection and bad channel selection<a class="headerlink" href="#interactive-data-inspection-and-bad-channel-selection" title="Permalink to this headline">¶</a></h1>
<p>You can use MNE-BIDS interactively inspect your  MEG or (i)EEG data.
Problematic channels can be marked as “bad”, for example if the connected
sensor produced mostly noise – or no signal at all. Similarly, you can declare
channels as “good”, should you discover they were incorrectly marked as bad.
Bad channel selection can also be performed non-interactively.</p>
<p>Furthermore, you can view and edit the experimental events and mark time
segments as “bad”.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Authors: Richard Höchenberger &lt;richard.hoechenberger@gmail.com&gt;</span>
<span class="c1"># License: BSD (3-clause)</span>
</pre></div>
</div>
<p>We will demonstrate how to mark individual channels as bad on the MNE
“sample” dataset. After that, we will mark channels as good again.</p>
<p>Let’s start by importing the required modules and functions, reading the
“sample” data, and writing it in the BIDS format.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os.path</span> <span class="k">as</span> <span class="nn">op</span>
<span class="kn">import</span> <span class="nn">shutil</span>

<span class="kn">import</span> <span class="nn">mne</span>
<span class="kn">from</span> <span class="nn">mne_bids</span> <span class="kn">import</span> <span class="p">(</span><a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class"><span class="n">BIDSPath</span></a><span class="p">,</span> <a href="../generated/mne_bids.write_raw_bids.html#mne_bids.write_raw_bids" title="mne_bids.write_raw_bids" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-function"><span class="n">write_raw_bids</span></a><span class="p">,</span> <a href="../generated/mne_bids.read_raw_bids.html#mne_bids.read_raw_bids" title="mne_bids.read_raw_bids" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-function"><span class="n">read_raw_bids</span></a><span class="p">,</span>
                      <a href="../generated/mne_bids.inspect_dataset.html#mne_bids.inspect_dataset" title="mne_bids.inspect_dataset" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-function"><span class="n">inspect_dataset</span></a><span class="p">,</span> <a href="../generated/mne_bids.mark_bad_channels.html#mne_bids.mark_bad_channels" title="mne_bids.mark_bad_channels" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-function"><span class="n">mark_bad_channels</span></a><span class="p">)</span>

<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data_path</span></a> <span class="o">=</span> <a href="https://mne.tools/dev/generated/mne.datasets.sample.data_path.html#mne.datasets.sample.data_path" title="mne.datasets.sample.data_path" class="sphx-glr-backref-module-mne-datasets-sample sphx-glr-backref-type-py-function"><span class="n">mne</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">sample</span><span class="o">.</span><span class="n">data_path</span></a><span class="p">()</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">raw_fname</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/os.path.html#os.path.join" title="os.path.join" class="sphx-glr-backref-module-os-path sphx-glr-backref-type-py-function"><span class="n">op</span><span class="o">.</span><span class="n">join</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data_path</span></a><span class="p">,</span> <span class="s1">&#39;MEG&#39;</span><span class="p">,</span> <span class="s1">&#39;sample&#39;</span><span class="p">,</span> <span class="s1">&#39;sample_audvis_raw.fif&#39;</span><span class="p">)</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">events_fname</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/os.path.html#os.path.join" title="os.path.join" class="sphx-glr-backref-module-os-path sphx-glr-backref-type-py-function"><span class="n">op</span><span class="o">.</span><span class="n">join</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data_path</span></a><span class="p">,</span> <span class="s1">&#39;MEG&#39;</span><span class="p">,</span> <span class="s1">&#39;sample&#39;</span><span class="p">,</span> <span class="s1">&#39;sample_audvis_raw-eve.fif&#39;</span><span class="p">)</span>
<a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">event_id</span></a> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Auditory/Left&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;Auditory/Right&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;Visual/Left&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="s1">&#39;Visual/Right&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;Smiley&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;Button&#39;</span><span class="p">:</span> <span class="mi">32</span><span class="p">}</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_root</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/os.path.html#os.path.join" title="os.path.join" class="sphx-glr-backref-module-os-path sphx-glr-backref-type-py-function"><span class="n">op</span><span class="o">.</span><span class="n">join</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data_path</span></a><span class="p">,</span> <span class="s1">&#39;..&#39;</span><span class="p">,</span> <span class="s1">&#39;MNE-sample-data-bids&#39;</span><span class="p">)</span>
<a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a> <span class="o">=</span> <a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class"><span class="n">BIDSPath</span></a><span class="p">(</span><span class="n">subject</span><span class="o">=</span><span class="s1">&#39;01&#39;</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="s1">&#39;01&#39;</span><span class="p">,</span> <span class="n">task</span><span class="o">=</span><span class="s1">&#39;audiovisual&#39;</span><span class="p">,</span> <span class="n">run</span><span class="o">=</span><span class="s1">&#39;01&#39;</span><span class="p">,</span>
                     <span class="n">root</span><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_root</span></a><span class="p">)</span>
</pre></div>
</div>
<p>To ensure the output path doesn’t contain any leftover files from previous
tests and example runs, we simply delete it.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Do not delete directories that may contain important data!</p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <a href="https://docs.python.org/3/library/os.path.html#os.path.exists" title="os.path.exists" class="sphx-glr-backref-module-os-path sphx-glr-backref-type-py-function"><span class="n">op</span><span class="o">.</span><span class="n">exists</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_root</span></a><span class="p">):</span>
    <a href="https://docs.python.org/3/library/shutil.html#shutil.rmtree" title="shutil.rmtree" class="sphx-glr-backref-module-shutil sphx-glr-backref-type-py-function"><span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_root</span></a><span class="p">)</span>
</pre></div>
</div>
<p>Now write the raw data to BIDS.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="https://mne.tools/dev/generated/mne.io.Raw.html#mne.io.Raw" title="mne.io.Raw" class="sphx-glr-backref-module-mne-io sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">raw</span></a> <span class="o">=</span> <a href="https://mne.tools/dev/generated/mne.io.read_raw_fif.html#mne.io.read_raw_fif" title="mne.io.read_raw_fif" class="sphx-glr-backref-module-mne-io sphx-glr-backref-type-py-function"><span class="n">mne</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">read_raw_fif</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">raw_fname</span></a><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a href="https://mne.tools/dev/generated/mne.Info.html#mne.Info" title="mne.Info" class="sphx-glr-backref-module-mne sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">raw</span><span class="o">.</span><span class="n">info</span></a><span class="p">[</span><span class="s1">&#39;line_freq&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">60</span>  <span class="c1"># Specify power line frequency as required by BIDS.</span>
<a href="../generated/mne_bids.write_raw_bids.html#mne_bids.write_raw_bids" title="mne_bids.write_raw_bids" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-function"><span class="n">write_raw_bids</span></a><span class="p">(</span><a href="https://mne.tools/dev/generated/mne.io.Raw.html#mne.io.Raw" title="mne.io.Raw" class="sphx-glr-backref-module-mne-io sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">raw</span></a><span class="p">,</span> <a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="o">=</span><a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="p">,</span> <span class="n">events_data</span><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">events_fname</span></a><span class="p">,</span>
               <a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">event_id</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">event_id</span></a><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>BIDSPath(
root: /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids
datatype: meg
basename: sub-01_ses-01_task-audiovisual_run-01_meg.fif)
</pre></div>
</div>
<div class="section" id="interactive-use">
<h2>Interactive use<a class="headerlink" href="#interactive-use" title="Permalink to this headline">¶</a></h2>
<p>Using <a class="reference internal" href="../generated/mne_bids.inspect_dataset.html#mne_bids.inspect_dataset" title="mne_bids.inspect_dataset"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne_bids.inspect_dataset()</span></code></a>, we can interactively explore the raw
data and toggle the channel status – <code class="docutils literal notranslate"><span class="pre">bad</span></code> or <code class="docutils literal notranslate"><span class="pre">good</span></code> – by clicking on the
respective traces or channel names. If there are any SSP projectors stored
with the data, a small popup window will allow you to toggle the projectors
on and off. If you changed the selection of bad channels, you will be
prompted whether you would like to save the changes when closing the main
window. Your raw data and the <em class="xref py py-obj">*_channels.tsv</em> sidecar file will be updated
upon saving.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="../generated/mne_bids.inspect_dataset.html#mne_bids.inspect_dataset" title="mne_bids.inspect_dataset" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-function"><span class="n">inspect_dataset</span></a><span class="p">(</span><a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="p">)</span>
</pre></div>
</div>
<ul class="sphx-glr-horizontal">
<li><img alt="mark bad channels" class="sphx-glr-multi-img" src="../_images/sphx_glr_mark_bad_channels_001.png" />
</li>
<li><img alt="Projectors marked with &quot;X&quot; are active on the plot." class="sphx-glr-multi-img" src="../_images/sphx_glr_mark_bad_channels_002.png" />
</li>
</ul>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Opening raw data file /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_meg.fif...
    Read a total of 3 projection items:
        PCA-v1 (1 x 102)  idle
        PCA-v2 (1 x 102)  idle
        PCA-v3 (1 x 102)  idle
    Range : 25800 ... 192599 =     42.956 ...   320.670 secs
Ready.
Reading events from /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_events.tsv.
Reading channel info from /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_channels.tsv.
/home/circleci/project/mne_bids/read.py:418: RuntimeWarning: The unit for channel(s) STI 001, STI 002, STI 003, STI 004, STI 005, STI 006, STI 014, STI 015, STI 016 has changed from V to NA.
  raw.set_channel_types(channel_type_dict)
Reading 0 ... 166799  =      0.000 ...   277.714 secs...
Finding flat segments

  0%|          | Channels : 0/364 [00:00&lt;?,       ?it/s]
  1%|          | Channels : 2/364 [00:00&lt;00:04,   86.21it/s]
  1%|1         | Channels : 4/364 [00:00&lt;00:04,   73.26it/s]
  1%|1         | Channels : 5/364 [00:00&lt;00:05,   65.07it/s]
  2%|1         | Channels : 7/364 [00:00&lt;00:04,   73.86it/s]
  2%|2         | Channels : 9/364 [00:00&lt;00:04,   82.04it/s]
  3%|3         | Channels : 11/364 [00:00&lt;00:04,   79.82it/s]
  4%|3         | Channels : 13/364 [00:00&lt;00:04,   76.25it/s]
  4%|3         | Channels : 14/364 [00:00&lt;00:04,   72.79it/s]
  4%|4         | Channels : 16/364 [00:00&lt;00:04,   74.69it/s]
  5%|4         | Channels : 18/364 [00:00&lt;00:04,   77.43it/s]
  5%|5         | Channels : 19/364 [00:00&lt;00:04,   72.99it/s]
  5%|5         | Channels : 20/364 [00:00&lt;00:04,   70.30it/s]
  6%|6         | Channels : 22/364 [00:00&lt;00:04,   73.88it/s]
  7%|6         | Channels : 25/364 [00:00&lt;00:04,   79.06it/s]
  7%|7         | Channels : 27/364 [00:00&lt;00:04,   78.39it/s]
  8%|7         | Channels : 28/364 [00:00&lt;00:04,   75.39it/s]
  8%|7         | Channels : 29/364 [00:00&lt;00:04,   74.49it/s]
  9%|8         | Channels : 31/364 [00:00&lt;00:04,   77.43it/s]
  9%|9         | Channels : 33/364 [00:00&lt;00:04,   79.73it/s]
 10%|9         | Channels : 35/364 [00:00&lt;00:04,   77.11it/s]
 10%|#         | Channels : 37/364 [00:00&lt;00:04,   76.58it/s]
 11%|#         | Channels : 39/364 [00:00&lt;00:04,   78.47it/s]
 11%|#1        | Channels : 41/364 [00:00&lt;00:04,   79.43it/s]
 12%|#1        | Channels : 43/364 [00:00&lt;00:04,   79.44it/s]
 12%|#2        | Channels : 44/364 [00:00&lt;00:04,   77.54it/s]
 13%|#2        | Channels : 46/364 [00:00&lt;00:04,   79.04it/s]
 13%|#3        | Channels : 48/364 [00:00&lt;00:03,   80.92it/s]
 14%|#3        | Channels : 50/364 [00:00&lt;00:03,   81.70it/s]
 14%|#4        | Channels : 52/364 [00:00&lt;00:03,   80.17it/s]
 15%|#4        | Channels : 53/364 [00:00&lt;00:03,   78.68it/s]
 15%|#5        | Channels : 55/364 [00:00&lt;00:03,   79.97it/s]
 16%|#5        | Channels : 57/364 [00:00&lt;00:03,   81.71it/s]
 16%|#6        | Channels : 59/364 [00:00&lt;00:03,   79.68it/s]
 17%|#6        | Channels : 61/364 [00:00&lt;00:03,   78.28it/s]
 17%|#7        | Channels : 63/364 [00:00&lt;00:03,   79.59it/s]
 18%|#7        | Channels : 65/364 [00:00&lt;00:03,   79.85it/s]
 18%|#8        | Channels : 67/364 [00:00&lt;00:03,   79.37it/s]
 19%|#8        | Channels : 68/364 [00:00&lt;00:03,   77.67it/s]
 19%|#9        | Channels : 70/364 [00:00&lt;00:03,   78.30it/s]
 20%|#9        | Channels : 72/364 [00:00&lt;00:03,   80.09it/s]
 20%|##        | Channels : 74/364 [00:00&lt;00:03,   79.25it/s]
 21%|##        | Channels : 76/364 [00:00&lt;00:03,   78.32it/s]
 21%|##1       | Channels : 78/364 [00:00&lt;00:03,   79.29it/s]
 22%|##1       | Channels : 80/364 [00:01&lt;00:03,   79.75it/s]
 23%|##2       | Channels : 82/364 [00:01&lt;00:03,   79.01it/s]
 23%|##2       | Channels : 83/364 [00:01&lt;00:03,   77.31it/s]
 23%|##3       | Channels : 85/364 [00:01&lt;00:03,   76.78it/s]
 24%|##3       | Channels : 87/364 [00:01&lt;00:03,   77.52it/s]
 24%|##4       | Channels : 89/364 [00:01&lt;00:03,   75.99it/s]
 25%|##5       | Channels : 91/364 [00:01&lt;00:03,   75.45it/s]
 26%|##5       | Channels : 93/364 [00:01&lt;00:03,   76.60it/s]
 26%|##6       | Channels : 95/364 [00:01&lt;00:03,   77.22it/s]
 27%|##6       | Channels : 97/364 [00:01&lt;00:03,   75.81it/s]
 27%|##6       | Channels : 98/364 [00:01&lt;00:03,   74.36it/s]
 27%|##7       | Channels : 100/364 [00:01&lt;00:03,   75.42it/s]
 28%|##8       | Channels : 102/364 [00:01&lt;00:03,   76.95it/s]
 29%|##8       | Channels : 104/364 [00:01&lt;00:03,   75.40it/s]
 29%|##9       | Channels : 106/364 [00:01&lt;00:03,   74.84it/s]
 30%|##9       | Channels : 108/364 [00:01&lt;00:03,   75.27it/s]
 30%|###       | Channels : 110/364 [00:01&lt;00:03,   74.47it/s]
 31%|###       | Channels : 112/364 [00:01&lt;00:03,   73.75it/s]
 31%|###1      | Channels : 113/364 [00:01&lt;00:03,   72.81it/s]
 32%|###1      | Channels : 115/364 [00:01&lt;00:03,   74.41it/s]
 32%|###2      | Channels : 117/364 [00:01&lt;00:03,   75.98it/s]
 32%|###2      | Channels : 118/364 [00:01&lt;00:03,   75.25it/s]
 33%|###2      | Channels : 119/364 [00:01&lt;00:03,   73.87it/s]
 33%|###3      | Channels : 121/364 [00:01&lt;00:03,   74.09it/s]
 34%|###3      | Channels : 123/364 [00:01&lt;00:03,   75.09it/s]
 34%|###4      | Channels : 125/364 [00:01&lt;00:03,   73.91it/s]
 35%|###4      | Channels : 127/364 [00:01&lt;00:03,   73.38it/s]
 35%|###5      | Channels : 129/364 [00:01&lt;00:03,   74.08it/s]
 36%|###5      | Channels : 131/364 [00:01&lt;00:03,   75.10it/s]
 37%|###6      | Channels : 133/364 [00:01&lt;00:03,   75.37it/s]
 37%|###6      | Channels : 134/364 [00:01&lt;00:03,   74.46it/s]
 37%|###7      | Channels : 136/364 [00:01&lt;00:03,   74.53it/s]
 38%|###7      | Channels : 138/364 [00:01&lt;00:02,   75.68it/s]
 38%|###8      | Channels : 140/364 [00:01&lt;00:02,   75.88it/s]
 39%|###9      | Channels : 142/364 [00:01&lt;00:02,   75.31it/s]
 39%|###9      | Channels : 143/364 [00:01&lt;00:02,   74.31it/s]
 40%|###9      | Channels : 145/364 [00:01&lt;00:02,   75.22it/s]
 41%|####      | Channels : 148/364 [00:01&lt;00:02,   77.36it/s]
 41%|####      | Channels : 149/364 [00:01&lt;00:02,   76.36it/s]
 41%|####1     | Channels : 151/364 [00:01&lt;00:02,   75.09it/s]
 42%|####2     | Channels : 153/364 [00:02&lt;00:02,   75.94it/s]
 43%|####2     | Channels : 155/364 [00:02&lt;00:02,   76.07it/s]
 43%|####3     | Channels : 157/364 [00:02&lt;00:02,   75.02it/s]
 43%|####3     | Channels : 158/364 [00:02&lt;00:02,   73.72it/s]
 44%|####3     | Channels : 160/364 [00:02&lt;00:02,   75.20it/s]
 45%|####4     | Channels : 162/364 [00:02&lt;00:02,   76.84it/s]
 45%|####5     | Channels : 164/364 [00:02&lt;00:02,   75.40it/s]
 46%|####5     | Channels : 166/364 [00:02&lt;00:02,   75.40it/s]
 46%|####6     | Channels : 168/364 [00:02&lt;00:02,   76.08it/s]
 47%|####6     | Channels : 170/364 [00:02&lt;00:02,   76.77it/s]
 47%|####7     | Channels : 172/364 [00:02&lt;00:02,   76.09it/s]
 48%|####7     | Channels : 173/364 [00:02&lt;00:02,   74.27it/s]
 48%|####8     | Channels : 175/364 [00:02&lt;00:02,   74.71it/s]
 49%|####8     | Channels : 177/364 [00:02&lt;00:02,   76.02it/s]
 49%|####9     | Channels : 179/364 [00:02&lt;00:02,   74.76it/s]
 50%|####9     | Channels : 181/364 [00:02&lt;00:02,   74.26it/s]
 50%|#####     | Channels : 183/364 [00:02&lt;00:02,   74.86it/s]
 51%|#####     | Channels : 185/364 [00:02&lt;00:02,   75.51it/s]
 51%|#####1    | Channels : 187/364 [00:02&lt;00:02,   74.42it/s]
 52%|#####1    | Channels : 188/364 [00:02&lt;00:02,   73.17it/s]
 52%|#####2    | Channels : 190/364 [00:02&lt;00:02,   74.65it/s]
 53%|#####2    | Channels : 192/364 [00:02&lt;00:02,   76.04it/s]
 53%|#####3    | Channels : 194/364 [00:02&lt;00:02,   75.37it/s]
 54%|#####3    | Channels : 196/364 [00:02&lt;00:02,   74.79it/s]
 54%|#####4    | Channels : 198/364 [00:02&lt;00:02,   75.87it/s]
 55%|#####4    | Channels : 200/364 [00:02&lt;00:02,   76.74it/s]
 55%|#####5    | Channels : 202/364 [00:02&lt;00:02,   76.40it/s]
 56%|#####5    | Channels : 203/364 [00:02&lt;00:02,   75.18it/s]
 56%|#####6    | Channels : 205/364 [00:02&lt;00:02,   75.73it/s]
 57%|#####6    | Channels : 207/364 [00:02&lt;00:02,   77.08it/s]
 57%|#####7    | Channels : 209/364 [00:02&lt;00:01,   77.63it/s]
 58%|#####7    | Channels : 211/364 [00:02&lt;00:02,   75.99it/s]
 58%|#####8    | Channels : 212/364 [00:02&lt;00:02,   75.44it/s]
 59%|#####8    | Channels : 214/364 [00:02&lt;00:01,   75.76it/s]
 59%|#####9    | Channels : 216/364 [00:02&lt;00:01,   76.69it/s]
 60%|#####9    | Channels : 217/364 [00:02&lt;00:01,   75.26it/s]
 60%|#####9    | Channels : 218/364 [00:02&lt;00:01,   74.20it/s]
 60%|######    | Channels : 220/364 [00:02&lt;00:01,   75.44it/s]
 61%|######    | Channels : 222/364 [00:02&lt;00:01,   77.00it/s]
 62%|######1   | Channels : 224/364 [00:02&lt;00:01,   76.17it/s]
 62%|######2   | Channels : 226/364 [00:02&lt;00:01,   74.50it/s]
 63%|######2   | Channels : 228/364 [00:02&lt;00:01,   75.50it/s]
 63%|######3   | Channels : 230/364 [00:03&lt;00:01,   76.35it/s]
 64%|######3   | Channels : 232/364 [00:03&lt;00:01,   75.25it/s]
 64%|######4   | Channels : 233/364 [00:03&lt;00:01,   74.25it/s]
 65%|######4   | Channels : 235/364 [00:03&lt;00:01,   75.31it/s]
 65%|######5   | Channels : 237/364 [00:03&lt;00:01,   76.76it/s]
 66%|######5   | Channels : 239/364 [00:03&lt;00:01,   76.49it/s]
 66%|######6   | Channels : 241/364 [00:03&lt;00:01,   75.16it/s]
 66%|######6   | Channels : 242/364 [00:03&lt;00:01,   74.42it/s]
 67%|######7   | Channels : 244/364 [00:03&lt;00:01,   75.99it/s]
 68%|######7   | Channels : 246/364 [00:03&lt;00:01,   77.35it/s]
 68%|######7   | Channels : 247/364 [00:03&lt;00:01,   75.98it/s]
 68%|######8   | Channels : 248/364 [00:03&lt;00:01,   74.85it/s]
 69%|######8   | Channels : 250/364 [00:03&lt;00:01,   75.05it/s]
 69%|######9   | Channels : 252/364 [00:03&lt;00:01,   76.71it/s]
 70%|######9   | Channels : 254/364 [00:03&lt;00:01,   76.25it/s]
 70%|#######   | Channels : 256/364 [00:03&lt;00:01,   74.95it/s]
 71%|#######   | Channels : 257/364 [00:03&lt;00:01,   73.89it/s]
 71%|#######1  | Channels : 259/364 [00:03&lt;00:01,   75.51it/s]
 72%|#######1  | Channels : 261/364 [00:03&lt;00:01,   77.11it/s]
 72%|#######1  | Channels : 262/364 [00:03&lt;00:01,   76.06it/s]
 72%|#######2  | Channels : 263/364 [00:03&lt;00:01,   74.73it/s]
 73%|#######2  | Channels : 265/364 [00:03&lt;00:01,   74.37it/s]
 73%|#######3  | Channels : 267/364 [00:03&lt;00:01,   75.64it/s]
 74%|#######3  | Channels : 269/364 [00:03&lt;00:01,   74.81it/s]
 74%|#######4  | Channels : 271/364 [00:03&lt;00:01,   73.79it/s]
 75%|#######5  | Channels : 273/364 [00:03&lt;00:01,   74.93it/s]
 76%|#######5  | Channels : 275/364 [00:03&lt;00:01,   76.27it/s]
 76%|#######6  | Channels : 277/364 [00:03&lt;00:01,   77.12it/s]
 76%|#######6  | Channels : 278/364 [00:03&lt;00:01,   76.18it/s]
 77%|#######6  | Channels : 280/364 [00:03&lt;00:01,   75.48it/s]
 77%|#######7  | Channels : 282/364 [00:03&lt;00:01,   75.97it/s]
 78%|#######8  | Channels : 284/364 [00:03&lt;00:01,   76.64it/s]
 78%|#######8  | Channels : 285/364 [00:03&lt;00:01,   75.15it/s]
 79%|#######8  | Channels : 286/364 [00:03&lt;00:01,   74.04it/s]
 79%|#######9  | Channels : 288/364 [00:03&lt;00:01,   73.05it/s]
 79%|#######9  | Channels : 289/364 [00:03&lt;00:01,   72.04it/s]
 80%|#######9  | Channels : 291/364 [00:03&lt;00:01,   71.24it/s]
 80%|########  | Channels : 292/364 [00:03&lt;00:01,   70.06it/s]
 81%|########  | Channels : 294/364 [00:03&lt;00:01,   69.35it/s]
 81%|########1 | Channels : 295/364 [00:03&lt;00:01,   68.85it/s]
 82%|########1 | Channels : 297/364 [00:03&lt;00:00,   68.46it/s]
 82%|########1 | Channels : 298/364 [00:03&lt;00:00,   67.79it/s]
 82%|########2 | Channels : 300/364 [00:04&lt;00:00,   69.15it/s]
 83%|########2 | Channels : 302/364 [00:04&lt;00:00,   70.34it/s]
 83%|########3 | Channels : 303/364 [00:04&lt;00:00,   69.62it/s]
 84%|########3 | Channels : 304/364 [00:04&lt;00:00,   68.91it/s]
 84%|########4 | Channels : 307/364 [00:04&lt;00:00,   72.58it/s]
 86%|########6 | Channels : 314/364 [00:04&lt;00:00,   85.00it/s]
 88%|########8 | Channels : 322/364 [00:04&lt;00:00,   99.38it/s]
 90%|######### | Channels : 329/364 [00:04&lt;00:00,  110.90it/s]
 92%|#########1| Channels : 334/364 [00:04&lt;00:00,  117.70it/s]
 93%|#########3| Channels : 340/364 [00:04&lt;00:00,  126.28it/s]
 95%|#########4| Channels : 345/364 [00:04&lt;00:00,  132.81it/s]
 96%|#########6| Channels : 350/364 [00:04&lt;00:00,  139.40it/s]
 98%|#########7| Channels : 356/364 [00:04&lt;00:00,  148.06it/s]
 99%|#########9| Channels : 361/364 [00:04&lt;00:00,  153.57it/s]
100%|##########| Channels : 364/364 [00:04&lt;00:00,   85.51it/s]
Marking 0.00% of time points (0 segments) and 0/364 channels bad
</pre></div>
</div>
<p>You can even apply frequency filters when viewing the data: A high-pass
filter can remove slow drifts, while a low-pass filter will get rid of
high-frequency artifacts. This can make visual inspection easier. Let’s
apply filters with a 1-Hz high-pass cutoff, and a 30-Hz low-pass cutoff:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="../generated/mne_bids.inspect_dataset.html#mne_bids.inspect_dataset" title="mne_bids.inspect_dataset" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-function"><span class="n">inspect_dataset</span></a><span class="p">(</span><a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="p">,</span> <span class="n">l_freq</span><span class="o">=</span><span class="mf">1.</span><span class="p">,</span> <span class="n">h_freq</span><span class="o">=</span><span class="mf">30.</span><span class="p">)</span>
</pre></div>
</div>
<ul class="sphx-glr-horizontal">
<li><img alt="mark bad channels" class="sphx-glr-multi-img" src="../_images/sphx_glr_mark_bad_channels_003.png" />
</li>
<li><img alt="Projectors marked with &quot;X&quot; are active on the plot." class="sphx-glr-multi-img" src="../_images/sphx_glr_mark_bad_channels_004.png" />
</li>
</ul>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Opening raw data file /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_meg.fif...
    Read a total of 3 projection items:
        PCA-v1 (1 x 102)  idle
        PCA-v2 (1 x 102)  idle
        PCA-v3 (1 x 102)  idle
    Range : 25800 ... 192599 =     42.956 ...   320.670 secs
Ready.
Reading events from /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_events.tsv.
Reading channel info from /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_channels.tsv.
/home/circleci/project/mne_bids/read.py:418: RuntimeWarning: The unit for channel(s) STI 001, STI 002, STI 003, STI 004, STI 005, STI 006, STI 014, STI 015, STI 016 has changed from V to NA.
  raw.set_channel_types(channel_type_dict)
Reading 0 ... 166799  =      0.000 ...   277.714 secs...
Finding flat segments

  0%|          | Channels : 0/364 [00:00&lt;?,       ?it/s]
  0%|          | Channels : 1/364 [00:00&lt;00:06,   56.61it/s]
  1%|          | Channels : 3/364 [00:00&lt;00:04,   81.81it/s]
  1%|1         | Channels : 5/364 [00:00&lt;00:04,   81.46it/s]
  2%|1         | Channels : 7/364 [00:00&lt;00:04,   72.47it/s]
  2%|2         | Channels : 8/364 [00:00&lt;00:05,   68.45it/s]
  3%|2         | Channels : 10/364 [00:00&lt;00:04,   75.44it/s]
  3%|3         | Channels : 12/364 [00:00&lt;00:04,   80.62it/s]
  4%|3         | Channels : 14/364 [00:00&lt;00:04,   79.22it/s]
  4%|4         | Channels : 16/364 [00:00&lt;00:04,   75.24it/s]
  5%|4         | Channels : 18/364 [00:00&lt;00:04,   79.01it/s]
  5%|5         | Channels : 20/364 [00:00&lt;00:04,   78.50it/s]
  6%|6         | Channels : 22/364 [00:00&lt;00:04,   79.08it/s]
  7%|6         | Channels : 24/364 [00:00&lt;00:04,   78.33it/s]
  7%|6         | Channels : 25/364 [00:00&lt;00:04,   76.37it/s]
  7%|7         | Channels : 26/364 [00:00&lt;00:04,   74.43it/s]
  8%|7         | Channels : 28/364 [00:00&lt;00:04,   75.50it/s]
  8%|7         | Channels : 29/364 [00:00&lt;00:04,   73.19it/s]
  9%|8         | Channels : 31/364 [00:00&lt;00:04,   73.21it/s]
  9%|9         | Channels : 33/364 [00:00&lt;00:04,   75.68it/s]
 10%|9         | Channels : 35/364 [00:00&lt;00:04,   77.40it/s]
 10%|#         | Channels : 37/364 [00:00&lt;00:04,   77.80it/s]
 10%|#         | Channels : 38/364 [00:00&lt;00:04,   75.05it/s]
 11%|#         | Channels : 40/364 [00:00&lt;00:04,   75.27it/s]
 12%|#1        | Channels : 42/364 [00:00&lt;00:04,   76.74it/s]
 12%|#2        | Channels : 44/364 [00:00&lt;00:04,   78.03it/s]
 13%|#2        | Channels : 46/364 [00:00&lt;00:04,   77.26it/s]
 13%|#2        | Channels : 47/364 [00:00&lt;00:04,   76.54it/s]
 13%|#3        | Channels : 49/364 [00:00&lt;00:04,   78.74it/s]
 14%|#4        | Channels : 51/364 [00:00&lt;00:03,   80.63it/s]
 15%|#4        | Channels : 53/364 [00:00&lt;00:03,   81.12it/s]
 15%|#5        | Channels : 55/364 [00:00&lt;00:03,   78.72it/s]
 16%|#5        | Channels : 57/364 [00:00&lt;00:03,   80.14it/s]
 16%|#6        | Channels : 59/364 [00:00&lt;00:03,   80.30it/s]
 17%|#6        | Channels : 61/364 [00:00&lt;00:03,   81.43it/s]
 17%|#7        | Channels : 62/364 [00:00&lt;00:03,   78.83it/s]
 18%|#7        | Channels : 64/364 [00:00&lt;00:03,   78.41it/s]
 18%|#8        | Channels : 66/364 [00:00&lt;00:03,   80.04it/s]
 19%|#8        | Channels : 68/364 [00:00&lt;00:03,   80.71it/s]
 19%|#9        | Channels : 70/364 [00:00&lt;00:03,   80.00it/s]
 20%|#9        | Channels : 71/364 [00:00&lt;00:03,   79.23it/s]
 20%|##        | Channels : 73/364 [00:00&lt;00:03,   80.71it/s]
 21%|##        | Channels : 75/364 [00:00&lt;00:03,   82.32it/s]
 21%|##1       | Channels : 77/364 [00:00&lt;00:03,   82.94it/s]
 22%|##1       | Channels : 79/364 [00:00&lt;00:03,   82.14it/s]
 22%|##1       | Channels : 80/364 [00:01&lt;00:03,   79.95it/s]
 23%|##2       | Channels : 82/364 [00:01&lt;00:03,   81.42it/s]
 23%|##3       | Channels : 84/364 [00:01&lt;00:03,   82.91it/s]
 24%|##3       | Channels : 86/364 [00:01&lt;00:03,   83.87it/s]
 24%|##4       | Channels : 88/364 [00:01&lt;00:03,   81.29it/s]
 24%|##4       | Channels : 89/364 [00:01&lt;00:03,   80.55it/s]
 25%|##5       | Channels : 91/364 [00:01&lt;00:03,   81.95it/s]
 26%|##5       | Channels : 93/364 [00:01&lt;00:03,   83.09it/s]
 26%|##6       | Channels : 95/364 [00:01&lt;00:03,   81.33it/s]
 27%|##6       | Channels : 97/364 [00:01&lt;00:03,   79.58it/s]
 27%|##7       | Channels : 99/364 [00:01&lt;00:03,   80.83it/s]
 28%|##7       | Channels : 101/364 [00:01&lt;00:03,   81.31it/s]
 28%|##8       | Channels : 103/364 [00:01&lt;00:03,   79.87it/s]
 29%|##8       | Channels : 104/364 [00:01&lt;00:03,   78.18it/s]
 29%|##9       | Channels : 106/364 [00:01&lt;00:03,   79.79it/s]
 30%|##9       | Channels : 108/364 [00:01&lt;00:03,   81.00it/s]
 30%|###       | Channels : 110/364 [00:01&lt;00:03,   80.51it/s]
 31%|###       | Channels : 112/364 [00:01&lt;00:03,   79.44it/s]
 31%|###1      | Channels : 114/364 [00:01&lt;00:03,   80.27it/s]
 32%|###1      | Channels : 116/364 [00:01&lt;00:03,   80.79it/s]
 32%|###2      | Channels : 118/364 [00:01&lt;00:03,   81.67it/s]
 33%|###2      | Channels : 119/364 [00:01&lt;00:03,   79.89it/s]
 33%|###3      | Channels : 121/364 [00:01&lt;00:03,   79.91it/s]
 34%|###3      | Channels : 123/364 [00:01&lt;00:02,   81.45it/s]
 34%|###4      | Channels : 125/364 [00:01&lt;00:02,   82.39it/s]
 35%|###4      | Channels : 127/364 [00:01&lt;00:02,   82.25it/s]
 35%|###5      | Channels : 128/364 [00:01&lt;00:02,   80.13it/s]
 36%|###5      | Channels : 130/364 [00:01&lt;00:02,   80.59it/s]
 36%|###6      | Channels : 132/364 [00:01&lt;00:02,   82.02it/s]
 37%|###6      | Channels : 134/364 [00:01&lt;00:02,   82.73it/s]
 37%|###7      | Channels : 136/364 [00:01&lt;00:02,   81.11it/s]
 38%|###7      | Channels : 137/364 [00:01&lt;00:02,   79.95it/s]
 38%|###8      | Channels : 139/364 [00:01&lt;00:02,   81.19it/s]
 39%|###8      | Channels : 141/364 [00:01&lt;00:02,   82.62it/s]
 39%|###9      | Channels : 143/364 [00:01&lt;00:02,   82.57it/s]
 40%|###9      | Channels : 145/364 [00:01&lt;00:02,   81.99it/s]
 40%|####      | Channels : 147/364 [00:01&lt;00:02,   82.46it/s]
 41%|####      | Channels : 149/364 [00:01&lt;00:02,   83.01it/s]
 41%|####1     | Channels : 151/364 [00:01&lt;00:02,   84.13it/s]
 42%|####1     | Channels : 152/364 [00:01&lt;00:02,   82.78it/s]
 42%|####2     | Channels : 154/364 [00:01&lt;00:02,   81.20it/s]
 43%|####2     | Channels : 156/364 [00:01&lt;00:02,   82.57it/s]
 43%|####3     | Channels : 158/364 [00:01&lt;00:02,   82.97it/s]
 44%|####3     | Channels : 160/364 [00:01&lt;00:02,   82.92it/s]
 44%|####4     | Channels : 161/364 [00:01&lt;00:02,   81.73it/s]
 45%|####4     | Channels : 163/364 [00:02&lt;00:02,   80.83it/s]
 45%|####5     | Channels : 165/364 [00:02&lt;00:02,   81.74it/s]
 46%|####5     | Channels : 167/364 [00:02&lt;00:02,   81.53it/s]
 46%|####6     | Channels : 169/364 [00:02&lt;00:02,   80.29it/s]
 47%|####6     | Channels : 170/364 [00:02&lt;00:02,   79.14it/s]
 47%|####7     | Channels : 172/364 [00:02&lt;00:02,   80.52it/s]
 48%|####7     | Channels : 174/364 [00:02&lt;00:02,   81.51it/s]
 48%|####8     | Channels : 176/364 [00:02&lt;00:02,   79.17it/s]
 49%|####8     | Channels : 178/364 [00:02&lt;00:02,   79.13it/s]
 49%|####9     | Channels : 180/364 [00:02&lt;00:02,   80.58it/s]
 50%|#####     | Channels : 182/364 [00:02&lt;00:02,   81.24it/s]
 51%|#####     | Channels : 184/364 [00:02&lt;00:02,   80.40it/s]
 51%|#####     | Channels : 185/364 [00:02&lt;00:02,   79.27it/s]
 51%|#####1    | Channels : 187/364 [00:02&lt;00:02,   80.17it/s]
 52%|#####1    | Channels : 189/364 [00:02&lt;00:02,   81.05it/s]
 52%|#####2    | Channels : 191/364 [00:02&lt;00:02,   80.52it/s]
 53%|#####3    | Channels : 193/364 [00:02&lt;00:02,   79.78it/s]
 54%|#####3    | Channels : 195/364 [00:02&lt;00:02,   80.62it/s]
 54%|#####4    | Channels : 197/364 [00:02&lt;00:02,   81.27it/s]
 55%|#####4    | Channels : 199/364 [00:02&lt;00:02,   82.46it/s]
 55%|#####4    | Channels : 200/364 [00:02&lt;00:02,   80.98it/s]
 55%|#####5    | Channels : 202/364 [00:02&lt;00:02,   79.75it/s]
 56%|#####5    | Channels : 203/364 [00:02&lt;00:02,   78.34it/s]
 56%|#####6    | Channels : 205/364 [00:02&lt;00:02,   78.06it/s]
 57%|#####6    | Channels : 206/364 [00:02&lt;00:02,   76.17it/s]
 57%|#####6    | Channels : 207/364 [00:02&lt;00:02,   74.80it/s]
 57%|#####7    | Channels : 208/364 [00:02&lt;00:02,   74.09it/s]
 58%|#####7    | Channels : 210/364 [00:02&lt;00:02,   75.75it/s]
 58%|#####8    | Channels : 212/364 [00:02&lt;00:01,   76.56it/s]
 59%|#####8    | Channels : 214/364 [00:02&lt;00:02,   74.96it/s]
 59%|#####9    | Channels : 215/364 [00:02&lt;00:02,   73.85it/s]
 60%|#####9    | Channels : 217/364 [00:02&lt;00:01,   74.61it/s]
 60%|######    | Channels : 219/364 [00:02&lt;00:01,   76.24it/s]
 60%|######    | Channels : 220/364 [00:02&lt;00:01,   75.43it/s]
 61%|######    | Channels : 221/364 [00:02&lt;00:01,   74.39it/s]
 61%|######1   | Channels : 223/364 [00:02&lt;00:01,   74.58it/s]
 62%|######1   | Channels : 225/364 [00:02&lt;00:01,   75.52it/s]
 62%|######2   | Channels : 227/364 [00:02&lt;00:01,   75.54it/s]
 63%|######2   | Channels : 229/364 [00:02&lt;00:01,   74.55it/s]
 63%|######3   | Channels : 231/364 [00:02&lt;00:01,   75.67it/s]
 64%|######4   | Channels : 233/364 [00:02&lt;00:01,   76.34it/s]
 65%|######4   | Channels : 235/364 [00:02&lt;00:01,   76.79it/s]
 65%|######4   | Channels : 236/364 [00:02&lt;00:01,   75.54it/s]
 65%|######5   | Channels : 238/364 [00:03&lt;00:01,   75.58it/s]
 66%|######5   | Channels : 240/364 [00:03&lt;00:01,   77.00it/s]
 66%|######6   | Channels : 242/364 [00:03&lt;00:01,   77.37it/s]
 67%|######7   | Channels : 244/364 [00:03&lt;00:01,   77.48it/s]
 67%|######7   | Channels : 245/364 [00:03&lt;00:01,   75.91it/s]
 68%|######7   | Channels : 247/364 [00:03&lt;00:01,   76.05it/s]
 68%|######8   | Channels : 249/364 [00:03&lt;00:01,   76.74it/s]
 69%|######8   | Channels : 251/364 [00:03&lt;00:01,   75.92it/s]
 70%|######9   | Channels : 253/364 [00:03&lt;00:01,   74.91it/s]
 70%|#######   | Channels : 255/364 [00:03&lt;00:01,   76.03it/s]
 70%|#######   | Channels : 256/364 [00:03&lt;00:01,   75.31it/s]
 71%|#######   | Channels : 258/364 [00:03&lt;00:01,   75.64it/s]
 71%|#######1  | Channels : 259/364 [00:03&lt;00:01,   74.61it/s]
 71%|#######1  | Channels : 260/364 [00:03&lt;00:01,   73.76it/s]
 72%|#######1  | Channels : 262/364 [00:03&lt;00:01,   73.01it/s]
 72%|#######2  | Channels : 263/364 [00:03&lt;00:01,   71.82it/s]
 73%|#######2  | Channels : 265/364 [00:03&lt;00:01,   70.58it/s]
 73%|#######3  | Channels : 267/364 [00:03&lt;00:01,   71.25it/s]
 74%|#######3  | Channels : 269/364 [00:03&lt;00:01,   71.72it/s]
 74%|#######4  | Channels : 271/364 [00:03&lt;00:01,   72.21it/s]
 75%|#######4  | Channels : 272/364 [00:03&lt;00:01,   71.51it/s]
 75%|#######5  | Channels : 274/364 [00:03&lt;00:01,   71.38it/s]
 76%|#######5  | Channels : 276/364 [00:03&lt;00:01,   73.04it/s]
 76%|#######6  | Channels : 278/364 [00:03&lt;00:01,   74.25it/s]
 77%|#######6  | Channels : 280/364 [00:03&lt;00:01,   73.56it/s]
 77%|#######7  | Channels : 282/364 [00:03&lt;00:01,   73.33it/s]
 78%|#######8  | Channels : 284/364 [00:03&lt;00:01,   74.73it/s]
 79%|#######8  | Channels : 286/364 [00:03&lt;00:01,   75.37it/s]
 79%|#######9  | Channels : 288/364 [00:03&lt;00:01,   74.34it/s]
 79%|#######9  | Channels : 289/364 [00:03&lt;00:01,   73.30it/s]
 80%|#######9  | Channels : 291/364 [00:03&lt;00:00,   74.67it/s]
 80%|########  | Channels : 293/364 [00:03&lt;00:00,   75.98it/s]
 81%|########1 | Channels : 295/364 [00:03&lt;00:00,   75.42it/s]
 82%|########1 | Channels : 297/364 [00:03&lt;00:00,   75.13it/s]
 82%|########2 | Channels : 299/364 [00:03&lt;00:00,   76.38it/s]
 83%|########2 | Channels : 301/364 [00:03&lt;00:00,   76.96it/s]
 83%|########3 | Channels : 303/364 [00:03&lt;00:00,   77.52it/s]
 84%|########3 | Channels : 304/364 [00:03&lt;00:00,   76.43it/s]
 84%|########4 | Channels : 307/364 [00:03&lt;00:00,   79.79it/s]
 87%|########6 | Channels : 315/364 [00:03&lt;00:00,   94.51it/s]
 89%|########8 | Channels : 323/364 [00:03&lt;00:00,  108.60it/s]
 91%|######### | Channels : 331/364 [00:03&lt;00:00,  122.52it/s]
 92%|#########2| Channels : 336/364 [00:03&lt;00:00,  128.53it/s]
 94%|#########3| Channels : 341/364 [00:04&lt;00:00,  134.45it/s]
 95%|#########5| Channels : 346/364 [00:04&lt;00:00,  140.80it/s]
 97%|#########6| Channels : 353/364 [00:04&lt;00:00,  151.37it/s]
 99%|#########8| Channels : 360/364 [00:04&lt;00:00,  161.37it/s]
100%|##########| Channels : 364/364 [00:04&lt;00:00,   89.51it/s]
Marking 0.00% of time points (0 segments) and 0/364 channels bad
</pre></div>
</div>
<p>By pressing the <code class="docutils literal notranslate"><span class="pre">A</span></code> key, you can toggle annotation mode to add, edit, or
remove experimental events, or to mark entire time periods as bad. Please see
the <a class="reference external" href="https://mne.tools/stable/auto_tutorials/raw/plot_30_annotate_raw.html#annotating-raw-objects-interactively">MNE-Python Annotations tutorial</a> for an introduction to the interactive
interface. If you’re closing the main window after changing the annotations,
you will be prompted whether you wish to save the changes. Your raw data and
the <em class="xref py py-obj">*_events.tsv</em> sidecar file will be updated upon saving.</p>
</div>
<div class="section" id="non-interactive-programmatic-bad-channel-selection">
<h2>Non-interactive (programmatic) bad channel selection<a class="headerlink" href="#non-interactive-programmatic-bad-channel-selection" title="Permalink to this headline">¶</a></h2>
<p>Read the (now BIDS-formatted) data and print a list of channels currently
marked as bad.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="https://mne.tools/dev/generated/mne.io.Raw.html#mne.io.Raw" title="mne.io.Raw" class="sphx-glr-backref-module-mne-io sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">raw</span></a> <span class="o">=</span> <a href="../generated/mne_bids.read_raw_bids.html#mne_bids.read_raw_bids" title="mne_bids.read_raw_bids" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-function"><span class="n">read_raw_bids</span></a><span class="p">(</span><a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="o">=</span><a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The following channels are currently marked as bad:</span><span class="se">\n</span><span class="s1">&#39;</span>
      <span class="sa">f</span><span class="s1">&#39;    </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><a href="https://mne.tools/dev/generated/mne.Info.html#mne.Info" title="mne.Info" class="sphx-glr-backref-module-mne sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">raw</span><span class="o">.</span><span class="n">info</span></a><span class="p">[</span><span class="s2">&quot;bads&quot;</span><span class="p">])</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Opening raw data file /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_meg.fif...
    Read a total of 3 projection items:
        PCA-v1 (1 x 102)  idle
        PCA-v2 (1 x 102)  idle
        PCA-v3 (1 x 102)  idle
    Range : 25800 ... 192599 =     42.956 ...   320.670 secs
Ready.
Reading events from /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_events.tsv.
Reading channel info from /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_channels.tsv.
/home/circleci/project/mne_bids/read.py:418: RuntimeWarning: The unit for channel(s) STI 001, STI 002, STI 003, STI 004, STI 005, STI 006, STI 014, STI 015, STI 016 has changed from V to NA.
  raw.set_channel_types(channel_type_dict)
The following channels are currently marked as bad:
    MEG 2443, EEG 053
</pre></div>
</div>
<p>So currently, two channels are maked as bad: <code class="docutils literal notranslate"><span class="pre">EEG</span> <span class="pre">053</span></code> and <code class="docutils literal notranslate"><span class="pre">MEG</span> <span class="pre">2443</span></code>.
Let’s assume that through visual data inspection, we found that two more
MEG channels are problematic, and we would like to mark them as bad as well.
To do that, we simply add them to a list, which we then pass to
<a class="reference internal" href="../generated/mne_bids.mark_bad_channels.html#mne_bids.mark_bad_channels" title="mne_bids.mark_bad_channels"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne_bids.mark_bad_channels()</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bads</span></a> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;MEG 0112&#39;</span><span class="p">,</span> <span class="s1">&#39;MEG 0131&#39;</span><span class="p">]</span>
<a href="../generated/mne_bids.mark_bad_channels.html#mne_bids.mark_bad_channels" title="mne_bids.mark_bad_channels" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-function"><span class="n">mark_bad_channels</span></a><span class="p">(</span><span class="n">ch_names</span><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bads</span></a><span class="p">,</span> <a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="o">=</span><a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Processing channel MEG 0112:
    status: bad
    description: n/a
Processing channel MEG 0131:
    status: bad
    description: n/a
</pre></div>
</div>
<p>That’s it! Let’s verify the result.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="https://mne.tools/dev/generated/mne.io.Raw.html#mne.io.Raw" title="mne.io.Raw" class="sphx-glr-backref-module-mne-io sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">raw</span></a> <span class="o">=</span> <a href="../generated/mne_bids.read_raw_bids.html#mne_bids.read_raw_bids" title="mne_bids.read_raw_bids" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-function"><span class="n">read_raw_bids</span></a><span class="p">(</span><a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="o">=</span><a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;After marking MEG 0112 and MEG 0131 as bad, the following channels &#39;</span>
      <span class="sa">f</span><span class="s1">&#39;are now marked as bad:</span><span class="se">\n</span><span class="s1">    </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><a href="https://mne.tools/dev/generated/mne.Info.html#mne.Info" title="mne.Info" class="sphx-glr-backref-module-mne sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">raw</span><span class="o">.</span><span class="n">info</span></a><span class="p">[</span><span class="s2">&quot;bads&quot;</span><span class="p">])</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Opening raw data file /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_meg.fif...
    Read a total of 3 projection items:
        PCA-v1 (1 x 102)  idle
        PCA-v2 (1 x 102)  idle
        PCA-v3 (1 x 102)  idle
    Range : 25800 ... 192599 =     42.956 ...   320.670 secs
Ready.
Reading events from /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_events.tsv.
Reading channel info from /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_channels.tsv.
/home/circleci/project/mne_bids/read.py:418: RuntimeWarning: The unit for channel(s) STI 001, STI 002, STI 003, STI 004, STI 005, STI 006, STI 014, STI 015, STI 016 has changed from V to NA.
  raw.set_channel_types(channel_type_dict)
After marking MEG 0112 and MEG 0131 as bad, the following channels are now marked as bad:
    MEG 0112, MEG 0131, MEG 2443, EEG 053
</pre></div>
</div>
<p>As you can see, now a total of <strong>four</strong> channels is marked as bad: the ones
that were already bad when we started – <code class="docutils literal notranslate"><span class="pre">EEG</span> <span class="pre">053</span></code> and <code class="docutils literal notranslate"><span class="pre">MEG</span> <span class="pre">2443</span></code> – and
the two channels we passed to <a class="reference internal" href="../generated/mne_bids.mark_bad_channels.html#mne_bids.mark_bad_channels" title="mne_bids.mark_bad_channels"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne_bids.mark_bad_channels()</span></code></a> –
<code class="docutils literal notranslate"><span class="pre">MEG</span> <span class="pre">0112</span></code> and <code class="docutils literal notranslate"><span class="pre">MEG</span> <span class="pre">0131</span></code>. This shows that marking bad channels via
<a class="reference internal" href="../generated/mne_bids.mark_bad_channels.html#mne_bids.mark_bad_channels" title="mne_bids.mark_bad_channels"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne_bids.mark_bad_channels()</span></code></a>, by default, is an <strong>additive</strong> procedure,
which allows you to mark additional channels as bad while retaining the
information about all channels that had <em>previously</em> been marked as bad.</p>
<p>If you instead would like to <strong>replace</strong> the collection of bad channels
entirely, pass the argument <code class="docutils literal notranslate"><span class="pre">overwrite=True</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bads</span></a> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;MEG 0112&#39;</span><span class="p">,</span> <span class="s1">&#39;MEG 0131&#39;</span><span class="p">]</span>
<a href="../generated/mne_bids.mark_bad_channels.html#mne_bids.mark_bad_channels" title="mne_bids.mark_bad_channels" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-function"><span class="n">mark_bad_channels</span></a><span class="p">(</span><span class="n">ch_names</span><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bads</span></a><span class="p">,</span> <a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="o">=</span><a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                  <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<a href="https://mne.tools/dev/generated/mne.io.Raw.html#mne.io.Raw" title="mne.io.Raw" class="sphx-glr-backref-module-mne-io sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">raw</span></a> <span class="o">=</span> <a href="../generated/mne_bids.read_raw_bids.html#mne_bids.read_raw_bids" title="mne_bids.read_raw_bids" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-function"><span class="n">read_raw_bids</span></a><span class="p">(</span><a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="o">=</span><a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;After marking MEG 0112 and MEG 0131 as bad and passing &#39;</span>
      <span class="sa">f</span><span class="s1">&#39;`overwrite=True`, the following channels &#39;</span>
      <span class="sa">f</span><span class="s1">&#39;are now marked as bad:</span><span class="se">\n</span><span class="s1">    </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><a href="https://mne.tools/dev/generated/mne.Info.html#mne.Info" title="mne.Info" class="sphx-glr-backref-module-mne sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">raw</span><span class="o">.</span><span class="n">info</span></a><span class="p">[</span><span class="s2">&quot;bads&quot;</span><span class="p">])</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Resetting status and description for all channels.
Processing channel MEG 0112:
    status: bad
    description: n/a
Processing channel MEG 0131:
    status: bad
    description: n/a
Opening raw data file /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_meg.fif...
    Read a total of 3 projection items:
        PCA-v1 (1 x 102)  idle
        PCA-v2 (1 x 102)  idle
        PCA-v3 (1 x 102)  idle
    Range : 25800 ... 192599 =     42.956 ...   320.670 secs
Ready.
Reading events from /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_events.tsv.
Reading channel info from /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_channels.tsv.
/home/circleci/project/mne_bids/read.py:418: RuntimeWarning: The unit for channel(s) STI 001, STI 002, STI 003, STI 004, STI 005, STI 006, STI 014, STI 015, STI 016 has changed from V to NA.
  raw.set_channel_types(channel_type_dict)
After marking MEG 0112 and MEG 0131 as bad and passing `overwrite=True`, the following channels are now marked as bad:
    MEG 0112, MEG 0131
</pre></div>
</div>
<p>Lastly, if you’re looking for a way to mark all channels as good, simply
pass an empty list as <code class="docutils literal notranslate"><span class="pre">ch_names</span></code>, combined with <code class="docutils literal notranslate"><span class="pre">overwrite=True</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bads</span></a> <span class="o">=</span> <span class="p">[]</span>
<a href="../generated/mne_bids.mark_bad_channels.html#mne_bids.mark_bad_channels" title="mne_bids.mark_bad_channels" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-function"><span class="n">mark_bad_channels</span></a><span class="p">(</span><span class="n">ch_names</span><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bads</span></a><span class="p">,</span> <a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="o">=</span><a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                  <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<a href="https://mne.tools/dev/generated/mne.io.Raw.html#mne.io.Raw" title="mne.io.Raw" class="sphx-glr-backref-module-mne-io sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">raw</span></a> <span class="o">=</span> <a href="../generated/mne_bids.read_raw_bids.html#mne_bids.read_raw_bids" title="mne_bids.read_raw_bids" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-function"><span class="n">read_raw_bids</span></a><span class="p">(</span><a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="o">=</span><a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;After passing `ch_names=[]` and `overwrite=True`, the following &#39;</span>
      <span class="sa">f</span><span class="s1">&#39;channels are now marked as bad:</span><span class="se">\n</span><span class="s1">    </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><a href="https://mne.tools/dev/generated/mne.Info.html#mne.Info" title="mne.Info" class="sphx-glr-backref-module-mne sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">raw</span><span class="o">.</span><span class="n">info</span></a><span class="p">[</span><span class="s2">&quot;bads&quot;</span><span class="p">])</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Resetting status and description for all channels.
Opening raw data file /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_meg.fif...
    Read a total of 3 projection items:
        PCA-v1 (1 x 102)  idle
        PCA-v2 (1 x 102)  idle
        PCA-v3 (1 x 102)  idle
    Range : 25800 ... 192599 =     42.956 ...   320.670 secs
Ready.
Reading events from /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_events.tsv.
Reading channel info from /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_channels.tsv.
/home/circleci/project/mne_bids/read.py:418: RuntimeWarning: The unit for channel(s) STI 001, STI 002, STI 003, STI 004, STI 005, STI 006, STI 014, STI 015, STI 016 has changed from V to NA.
  raw.set_channel_types(channel_type_dict)
After passing `ch_names=[]` and `overwrite=True`, the following channels are now marked as bad:
</pre></div>
</div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 0 minutes  34.638 seconds)</p>
<div class="sphx-glr-footer class sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-examples-mark-bad-channels-py">
<div class="binder-badge docutils container">
<a class="reference external image-reference" href="https://mybinder.org/v2/gh/mne-tools/mne-bids/gh-pages?filepath=dev/notebooks/auto_examples/mark_bad_channels.ipynb"><img alt="Launch binder" src="../_images/binder_badge_logo.svg" width="150px" /></a>
</div>
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../_downloads/3556547a51e51e9556bdd40badb8d4c8/mark_bad_channels.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">mark_bad_channels.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../_downloads/bcdfe0d0e220cf6da56beb8f9163c326/mark_bad_channels.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">mark_bad_channels.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="convert_mne_sample.html" title="previous page">02. Convert MNE sample data to BIDS format</a>
    <a class='right-next' id="next-link" href="convert_eeg_to_bids.html" title="next page">04. Convert EEG data to BIDS format</a>

              </div>
              
          </main>
          

      </div>
    </div>
    
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>


    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2017-2021, MNE Developers. Last updated on 2021-04-19.<br/>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.5.4.<br/>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>