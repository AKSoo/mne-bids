<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>03. Interactive data inspection and bad channel selection &#8212; mne_bids 0.6.dev0 documentation</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/style.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-dataframe.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          MNE-BIDS</a>
        <span class="navbar-text navbar-version pull-left"><b>0.6.dev0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../whats_new.html">News</a></li>
                <li><a href="../install.html">Install</a></li>
                <li><a href="../use.html">Use</a></li>
                <li><a href="../api.html">API</a></li>
                <li><a href="../generated/cli.html">CLI</a></li>
                <li><a href="../contribute.html">Contribute!</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
            
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
<div class="navbar-form navbar-right navbar-btn dropdown btn-group-sm" style="margin-left: 20px; margin-top: 5px; margin-bottom: 5px">
  <button type="button" class="btn btn-primary navbar-btn dropdown-toggle" id="dropdownMenu1" data-toggle="dropdown">
    v0.6.dev0
    <span class="caret"></span>
  </button>
  <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
    <li><a href="https://mne.tools/mne-bids/dev/index.html">Development</a></li>
    <li><a href="https://mne.tools/mne-bids/stable/index.html">Stable</a></li>
    <li><a href="https://mne.tools/mne-bids/v0.5/index.html">v0.5</a></li>
    <li><a href="https://mne.tools/mne-bids/v0.4/index.html">v0.4</a></li>
    <li><a href="https://mne.tools/mne-bids/v0.3/index.html">v0.3</a></li>
    <li><a href="https://mne.tools/mne-bids/v0.2/index.html">v0.2</a></li>
    <li><a href="https://mne.tools/mne-bids/v0.1/index.html">v0.1</a></li>
  </ul>
</div>


            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          

        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li><a class="reference internal" href="#">03. Interactive data inspection and bad channel selection</a><ul>
<li><a class="reference internal" href="#interactive-use">Interactive use</a></li>
<li><a class="reference internal" href="#non-interactive-programmatic-bad-channel-selection">Non-interactive (programmatic) bad channel selection</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p>Click <a class="reference internal" href="#sphx-glr-download-auto-examples-mark-bad-channels-py"><span class="std std-ref">here</span></a>     to download the full example code or to run this example in your browser via Binder</p>
</div>
<div class="sphx-glr-example-title section" id="interactive-data-inspection-and-bad-channel-selection">
<span id="sphx-glr-auto-examples-mark-bad-channels-py"></span><h1>03. Interactive data inspection and bad channel selection<a class="headerlink" href="#interactive-data-inspection-and-bad-channel-selection" title="Permalink to this headline">¶</a></h1>
<p>You can use MNE-BIDS interactively inspect your  MEG or (i)EEG data.
Problematic channels can be marked as “bad”, for example if the connected
sensor produced mostly noise – or no signal at all. Similarly, you can declare
channels as “good”, should you discover they were incorrectly marked as bad.
Bad channel selection can also be performed non-interactively.</p>
<p>Furthermore, you can view and edit the experimental events and mark time
segments as “bad”.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Authors: Richard Höchenberger &lt;richard.hoechenberger@gmail.com&gt;</span>
<span class="c1"># License: BSD (3-clause)</span>
</pre></div>
</div>
<p>We will demonstrate how to mark individual channels as bad on the MNE
“sample” dataset. After that, we will mark channels as good again.</p>
<p>Let’s start by importing the required modules and functions, reading the
“sample” data, and writing it in the BIDS format.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os.path</span> <span class="k">as</span> <span class="nn">op</span>
<span class="kn">import</span> <span class="nn">shutil</span>

<span class="kn">import</span> <span class="nn">mne</span>
<span class="kn">from</span> <span class="nn">mne_bids</span> <span class="kn">import</span> <span class="p">(</span><a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class"><span class="n">BIDSPath</span></a><span class="p">,</span> <a href="../generated/mne_bids.write_raw_bids.html#mne_bids.write_raw_bids" title="mne_bids.write_raw_bids" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-function"><span class="n">write_raw_bids</span></a><span class="p">,</span> <a href="../generated/mne_bids.read_raw_bids.html#mne_bids.read_raw_bids" title="mne_bids.read_raw_bids" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-function"><span class="n">read_raw_bids</span></a><span class="p">,</span>
                      <a href="../generated/mne_bids.inspect_dataset.html#mne_bids.inspect_dataset" title="mne_bids.inspect_dataset" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-function"><span class="n">inspect_dataset</span></a><span class="p">,</span> <a href="../generated/mne_bids.mark_bad_channels.html#mne_bids.mark_bad_channels" title="mne_bids.mark_bad_channels" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-function"><span class="n">mark_bad_channels</span></a><span class="p">)</span>

<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data_path</span></a> <span class="o">=</span> <a href="https://mne.tools/dev/generated/mne.datasets.sample.data_path.html#mne.datasets.sample.data_path" title="mne.datasets.sample.data_path" class="sphx-glr-backref-module-mne-datasets-sample sphx-glr-backref-type-py-function"><span class="n">mne</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">sample</span><span class="o">.</span><span class="n">data_path</span></a><span class="p">()</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">raw_fname</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/os.path.html#os.path.join" title="os.path.join" class="sphx-glr-backref-module-os-path sphx-glr-backref-type-py-function"><span class="n">op</span><span class="o">.</span><span class="n">join</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data_path</span></a><span class="p">,</span> <span class="s1">&#39;MEG&#39;</span><span class="p">,</span> <span class="s1">&#39;sample&#39;</span><span class="p">,</span> <span class="s1">&#39;sample_audvis_raw.fif&#39;</span><span class="p">)</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">events_fname</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/os.path.html#os.path.join" title="os.path.join" class="sphx-glr-backref-module-os-path sphx-glr-backref-type-py-function"><span class="n">op</span><span class="o">.</span><span class="n">join</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data_path</span></a><span class="p">,</span> <span class="s1">&#39;MEG&#39;</span><span class="p">,</span> <span class="s1">&#39;sample&#39;</span><span class="p">,</span> <span class="s1">&#39;sample_audvis_raw-eve.fif&#39;</span><span class="p">)</span>
<a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">event_id</span></a> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Auditory/Left&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;Auditory/Right&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;Visual/Left&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="s1">&#39;Visual/Right&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;Smiley&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;Button&#39;</span><span class="p">:</span> <span class="mi">32</span><span class="p">}</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_root</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/os.path.html#os.path.join" title="os.path.join" class="sphx-glr-backref-module-os-path sphx-glr-backref-type-py-function"><span class="n">op</span><span class="o">.</span><span class="n">join</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data_path</span></a><span class="p">,</span> <span class="s1">&#39;..&#39;</span><span class="p">,</span> <span class="s1">&#39;MNE-sample-data-bids&#39;</span><span class="p">)</span>
<a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a> <span class="o">=</span> <a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class"><span class="n">BIDSPath</span></a><span class="p">(</span><span class="n">subject</span><span class="o">=</span><span class="s1">&#39;01&#39;</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="s1">&#39;01&#39;</span><span class="p">,</span> <span class="n">task</span><span class="o">=</span><span class="s1">&#39;audiovisual&#39;</span><span class="p">,</span> <span class="n">run</span><span class="o">=</span><span class="s1">&#39;01&#39;</span><span class="p">,</span>
                     <span class="n">root</span><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_root</span></a><span class="p">)</span>
</pre></div>
</div>
<p>To ensure the output path doesn’t contain any leftover files from previous
tests and example runs, we simply delete it.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Do not delete directories that may contain important data!</p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <a href="https://docs.python.org/3/library/os.path.html#os.path.exists" title="os.path.exists" class="sphx-glr-backref-module-os-path sphx-glr-backref-type-py-function"><span class="n">op</span><span class="o">.</span><span class="n">exists</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_root</span></a><span class="p">):</span>
    <a href="https://docs.python.org/3/library/shutil.html#shutil.rmtree" title="shutil.rmtree" class="sphx-glr-backref-module-shutil sphx-glr-backref-type-py-function"><span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_root</span></a><span class="p">)</span>
</pre></div>
</div>
<p>Now write the raw data to BIDS.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="https://mne.tools/dev/generated/mne.io.Raw.html#mne.io.Raw" title="mne.io.Raw" class="sphx-glr-backref-module-mne-io sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">raw</span></a> <span class="o">=</span> <a href="https://mne.tools/dev/generated/mne.io.read_raw_fif.html#mne.io.read_raw_fif" title="mne.io.read_raw_fif" class="sphx-glr-backref-module-mne-io sphx-glr-backref-type-py-function"><span class="n">mne</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">read_raw_fif</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">raw_fname</span></a><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a href="https://mne.tools/dev/generated/mne.Info.html#mne.Info" title="mne.Info" class="sphx-glr-backref-module-mne sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">raw</span><span class="o">.</span><span class="n">info</span></a><span class="p">[</span><span class="s1">&#39;line_freq&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">60</span>  <span class="c1"># Specify power line frequency as required by BIDS.</span>
<a href="../generated/mne_bids.write_raw_bids.html#mne_bids.write_raw_bids" title="mne_bids.write_raw_bids" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-function"><span class="n">write_raw_bids</span></a><span class="p">(</span><a href="https://mne.tools/dev/generated/mne.io.Raw.html#mne.io.Raw" title="mne.io.Raw" class="sphx-glr-backref-module-mne-io sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">raw</span></a><span class="p">,</span> <a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="o">=</span><a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="p">,</span> <span class="n">events_data</span><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">events_fname</span></a><span class="p">,</span>
               <a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">event_id</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">event_id</span></a><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>BIDSPath(
root: /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids
datatype: meg
basename: sub-01_ses-01_task-audiovisual_run-01_meg.fif)
</pre></div>
</div>
<div class="section" id="interactive-use">
<h2>Interactive use<a class="headerlink" href="#interactive-use" title="Permalink to this headline">¶</a></h2>
<p>Using <a class="reference internal" href="../generated/mne_bids.inspect_dataset.html#mne_bids.inspect_dataset" title="mne_bids.inspect_dataset"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne_bids.inspect_dataset()</span></code></a>, we can interactively explore the raw
data and toggle the channel status – <code class="docutils literal notranslate"><span class="pre">bad</span></code> or <code class="docutils literal notranslate"><span class="pre">good</span></code> – by clicking on the
respective traces or channel names. If there are any SSP projectors stored
with the data, a small popup window will allow you to toggle the projectors
on and off. If you changed the selection of bad channels, you will be
prompted whether you would like to save the changes when closing the main
window. Your raw data and the <em class="xref py py-obj">*_channels.tsv</em> sidecar file will be updated
upon saving.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="../generated/mne_bids.inspect_dataset.html#mne_bids.inspect_dataset" title="mne_bids.inspect_dataset" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-function"><span class="n">inspect_dataset</span></a><span class="p">(</span><a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="p">)</span>
</pre></div>
</div>
<ul class="sphx-glr-horizontal">
<li><img alt="mark bad channels" class="sphx-glr-multi-img" src="../_images/sphx_glr_mark_bad_channels_001.png" />
</li>
<li><img alt="Projectors marked with &quot;X&quot; are active on the plot." class="sphx-glr-multi-img" src="../_images/sphx_glr_mark_bad_channels_002.png" />
</li>
</ul>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Opening raw data file /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_meg.fif...
    Read a total of 3 projection items:
        PCA-v1 (1 x 102)  idle
        PCA-v2 (1 x 102)  idle
        PCA-v3 (1 x 102)  idle
    Range : 25800 ... 192599 =     42.956 ...   320.670 secs
Ready.
Reading events from /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_events.tsv.
Reading channel info from /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_channels.tsv.
/home/circleci/project/mne_bids/read.py:337: RuntimeWarning: The unit for channel(s) STI 001, STI 002, STI 003, STI 004, STI 005, STI 006, STI 014, STI 015, STI 016 has changed from V to NA.
  raw.set_channel_types(channel_type_dict)
Reading 0 ... 166799  =      0.000 ...   277.714 secs...
Finding flat segments

  0%|          | Channels : 0/364 [00:00&lt;?,       ?it/s]
  0%|          | Channels : 1/364 [00:00&lt;00:06,   57.29it/s]
  1%|          | Channels : 2/364 [00:00&lt;00:06,   56.77it/s]
  1%|1         | Channels : 4/364 [00:00&lt;00:06,   57.58it/s]
  1%|1         | Channels : 5/364 [00:00&lt;00:06,   57.77it/s]
  2%|1         | Channels : 7/364 [00:00&lt;00:06,   58.56it/s]
  2%|2         | Channels : 9/364 [00:00&lt;00:06,   59.07it/s]
  3%|2         | Channels : 10/364 [00:00&lt;00:05,   59.22it/s]
  3%|3         | Channels : 11/364 [00:00&lt;00:05,   59.09it/s]
  4%|3         | Channels : 13/364 [00:00&lt;00:05,   59.75it/s]
  4%|4         | Channels : 15/364 [00:00&lt;00:05,   60.49it/s]
  4%|4         | Channels : 16/364 [00:00&lt;00:05,   60.19it/s]
  5%|4         | Channels : 18/364 [00:00&lt;00:05,   61.08it/s]
  5%|5         | Channels : 19/364 [00:00&lt;00:05,   60.53it/s]
  5%|5         | Channels : 20/364 [00:00&lt;00:05,   60.44it/s]
  6%|6         | Channels : 22/364 [00:00&lt;00:05,   61.36it/s]
  7%|6         | Channels : 24/364 [00:00&lt;00:05,   62.42it/s]
  7%|7         | Channels : 26/364 [00:00&lt;00:05,   62.61it/s]
  8%|7         | Channels : 28/364 [00:00&lt;00:05,   63.14it/s]
  8%|7         | Channels : 29/364 [00:00&lt;00:05,   62.79it/s]
  9%|8         | Channels : 31/364 [00:00&lt;00:05,   63.56it/s]
  9%|8         | Channels : 32/364 [00:00&lt;00:05,   62.86it/s]
  9%|9         | Channels : 34/364 [00:00&lt;00:05,   63.81it/s]
 10%|9         | Channels : 36/364 [00:00&lt;00:05,   64.62it/s]
 10%|#         | Channels : 37/364 [00:00&lt;00:05,   64.26it/s]
 10%|#         | Channels : 38/364 [00:00&lt;00:05,   63.54it/s]
 11%|#         | Channels : 40/364 [00:00&lt;00:05,   64.25it/s]
 11%|#1        | Channels : 41/364 [00:00&lt;00:05,   64.06it/s]
 12%|#1        | Channels : 43/364 [00:00&lt;00:04,   65.23it/s]
 12%|#2        | Channels : 44/364 [00:00&lt;00:04,   65.07it/s]
 13%|#2        | Channels : 46/364 [00:00&lt;00:04,   65.87it/s]
 13%|#2        | Channels : 47/364 [00:00&lt;00:04,   65.64it/s]
 13%|#3        | Channels : 49/364 [00:00&lt;00:04,   66.45it/s]
 14%|#4        | Channels : 51/364 [00:00&lt;00:04,   67.02it/s]
 15%|#4        | Channels : 53/364 [00:00&lt;00:04,   66.91it/s]
 15%|#5        | Channels : 55/364 [00:00&lt;00:04,   66.98it/s]
 15%|#5        | Channels : 56/364 [00:00&lt;00:04,   66.71it/s]
 16%|#5        | Channels : 58/364 [00:00&lt;00:04,   67.05it/s]
 16%|#6        | Channels : 59/364 [00:00&lt;00:04,   66.70it/s]
 17%|#6        | Channels : 61/364 [00:00&lt;00:04,   67.02it/s]
 17%|#7        | Channels : 62/364 [00:00&lt;00:04,   66.02it/s]
 18%|#7        | Channels : 64/364 [00:00&lt;00:04,   66.42it/s]
 18%|#7        | Channels : 65/364 [00:00&lt;00:04,   65.93it/s]
 18%|#8        | Channels : 67/364 [00:00&lt;00:04,   66.74it/s]
 19%|#8        | Channels : 69/364 [00:00&lt;00:04,   67.59it/s]
 19%|#9        | Channels : 70/364 [00:00&lt;00:04,   66.05it/s]
 20%|#9        | Channels : 71/364 [00:00&lt;00:04,   65.73it/s]
 20%|##        | Channels : 73/364 [00:01&lt;00:04,   66.48it/s]
 20%|##        | Channels : 74/364 [00:01&lt;00:04,   65.96it/s]
 21%|##        | Channels : 76/364 [00:01&lt;00:04,   66.52it/s]
 21%|##1       | Channels : 77/364 [00:01&lt;00:04,   64.03it/s]
 22%|##1       | Channels : 79/364 [00:01&lt;00:04,   64.03it/s]
 22%|##1       | Channels : 80/364 [00:01&lt;00:04,   63.73it/s]
 23%|##2       | Channels : 82/364 [00:01&lt;00:04,   64.09it/s]
 23%|##2       | Channels : 83/364 [00:01&lt;00:04,   63.58it/s]
 23%|##3       | Channels : 85/364 [00:01&lt;00:04,   63.80it/s]
 24%|##3       | Channels : 87/364 [00:01&lt;00:04,   64.53it/s]
 24%|##4       | Channels : 88/364 [00:01&lt;00:04,   63.95it/s]
 24%|##4       | Channels : 89/364 [00:01&lt;00:04,   63.86it/s]
 25%|##5       | Channels : 91/364 [00:01&lt;00:04,   64.49it/s]
 25%|##5       | Channels : 92/364 [00:01&lt;00:04,   64.18it/s]
 26%|##5       | Channels : 94/364 [00:01&lt;00:04,   64.70it/s]
 26%|##6       | Channels : 95/364 [00:01&lt;00:04,   64.44it/s]
 27%|##6       | Channels : 97/364 [00:01&lt;00:04,   64.68it/s]
 27%|##6       | Channels : 98/364 [00:01&lt;00:04,   64.31it/s]
 27%|##7       | Channels : 100/364 [00:01&lt;00:04,   64.54it/s]
 28%|##7       | Channels : 101/364 [00:01&lt;00:04,   64.21it/s]
 28%|##8       | Channels : 103/364 [00:01&lt;00:04,   64.42it/s]
 29%|##8       | Channels : 104/364 [00:01&lt;00:04,   63.44it/s]
 29%|##9       | Channels : 106/364 [00:01&lt;00:04,   63.98it/s]
 29%|##9       | Channels : 107/364 [00:01&lt;00:04,   63.80it/s]
 30%|##9       | Channels : 109/364 [00:01&lt;00:03,   64.10it/s]
 30%|###       | Channels : 110/364 [00:01&lt;00:04,   62.43it/s]
 31%|###       | Channels : 112/364 [00:01&lt;00:04,   62.80it/s]
 31%|###1      | Channels : 113/364 [00:01&lt;00:04,   62.34it/s]
 32%|###1      | Channels : 115/364 [00:01&lt;00:03,   62.63it/s]
 32%|###1      | Channels : 116/364 [00:01&lt;00:03,   62.27it/s]
 32%|###2      | Channels : 118/364 [00:01&lt;00:03,   62.76it/s]
 33%|###2      | Channels : 119/364 [00:01&lt;00:03,   62.22it/s]
 33%|###3      | Channels : 121/364 [00:01&lt;00:03,   62.77it/s]
 34%|###3      | Channels : 123/364 [00:01&lt;00:03,   63.45it/s]
 34%|###4      | Channels : 125/364 [00:01&lt;00:03,   63.38it/s]
 35%|###4      | Channels : 127/364 [00:01&lt;00:03,   63.85it/s]
 35%|###5      | Channels : 128/364 [00:01&lt;00:03,   63.13it/s]
 36%|###5      | Channels : 130/364 [00:01&lt;00:03,   63.48it/s]
 36%|###6      | Channels : 132/364 [00:01&lt;00:03,   64.13it/s]
 37%|###6      | Channels : 133/364 [00:01&lt;00:03,   63.43it/s]
 37%|###7      | Channels : 135/364 [00:01&lt;00:03,   64.23it/s]
 37%|###7      | Channels : 136/364 [00:01&lt;00:03,   63.81it/s]
 38%|###7      | Channels : 137/364 [00:01&lt;00:03,   63.13it/s]
 38%|###8      | Channels : 139/364 [00:02&lt;00:03,   63.58it/s]
 39%|###8      | Channels : 141/364 [00:02&lt;00:03,   64.19it/s]
 39%|###9      | Channels : 143/364 [00:02&lt;00:03,   63.64it/s]
 40%|###9      | Channels : 145/364 [00:02&lt;00:03,   63.96it/s]
 40%|####      | Channels : 147/364 [00:02&lt;00:03,   65.10it/s]
 41%|####      | Channels : 148/364 [00:02&lt;00:03,   64.42it/s]
 41%|####1     | Channels : 150/364 [00:02&lt;00:03,   65.11it/s]
 41%|####1     | Channels : 151/364 [00:02&lt;00:03,   64.52it/s]
 42%|####2     | Channels : 153/364 [00:02&lt;00:03,   65.00it/s]
 43%|####2     | Channels : 155/364 [00:02&lt;00:03,   65.19it/s]
 43%|####3     | Channels : 157/364 [00:02&lt;00:03,   65.87it/s]
 43%|####3     | Channels : 158/364 [00:02&lt;00:03,   65.51it/s]
 44%|####3     | Channels : 160/364 [00:02&lt;00:03,   66.22it/s]
 45%|####4     | Channels : 162/364 [00:02&lt;00:03,   67.11it/s]
 45%|####5     | Channels : 164/364 [00:02&lt;00:02,   66.87it/s]
 46%|####5     | Channels : 166/364 [00:02&lt;00:02,   67.77it/s]
 46%|####5     | Channels : 167/364 [00:02&lt;00:02,   67.43it/s]
 46%|####6     | Channels : 169/364 [00:02&lt;00:02,   68.05it/s]
 47%|####6     | Channels : 171/364 [00:02&lt;00:02,   68.65it/s]
 47%|####7     | Channels : 172/364 [00:02&lt;00:02,   67.96it/s]
 48%|####7     | Channels : 173/364 [00:02&lt;00:02,   67.10it/s]
 48%|####8     | Channels : 175/364 [00:02&lt;00:02,   67.75it/s]
 48%|####8     | Channels : 176/364 [00:02&lt;00:02,   67.32it/s]
 49%|####8     | Channels : 178/364 [00:02&lt;00:02,   68.04it/s]
 49%|####9     | Channels : 179/364 [00:02&lt;00:02,   65.99it/s]
 50%|####9     | Channels : 181/364 [00:02&lt;00:02,   65.42it/s]
 50%|#####     | Channels : 182/364 [00:02&lt;00:02,   64.74it/s]
 51%|#####     | Channels : 184/364 [00:02&lt;00:02,   64.68it/s]
 51%|#####1    | Channels : 186/364 [00:02&lt;00:02,   65.30it/s]
 51%|#####1    | Channels : 187/364 [00:02&lt;00:02,   64.47it/s]
 52%|#####1    | Channels : 188/364 [00:02&lt;00:02,   63.34it/s]
 52%|#####2    | Channels : 190/364 [00:02&lt;00:02,   63.59it/s]
 52%|#####2    | Channels : 191/364 [00:02&lt;00:02,   63.16it/s]
 53%|#####3    | Channels : 193/364 [00:02&lt;00:02,   63.26it/s]
 53%|#####3    | Channels : 194/364 [00:02&lt;00:02,   62.20it/s]
 54%|#####3    | Channels : 196/364 [00:02&lt;00:02,   62.04it/s]
 54%|#####4    | Channels : 197/364 [00:02&lt;00:02,   60.91it/s]
 55%|#####4    | Channels : 199/364 [00:02&lt;00:02,   61.48it/s]
 55%|#####4    | Channels : 200/364 [00:02&lt;00:02,   61.21it/s]
 55%|#####5    | Channels : 202/364 [00:02&lt;00:02,   61.66it/s]
 56%|#####5    | Channels : 203/364 [00:02&lt;00:02,   61.47it/s]
 56%|#####6    | Channels : 205/364 [00:03&lt;00:02,   61.89it/s]
 57%|#####6    | Channels : 206/364 [00:03&lt;00:02,   61.76it/s]
 57%|#####7    | Channels : 208/364 [00:03&lt;00:02,   61.93it/s]
 57%|#####7    | Channels : 209/364 [00:03&lt;00:02,   61.50it/s]
 58%|#####7    | Channels : 211/364 [00:03&lt;00:02,   61.58it/s]
 58%|#####8    | Channels : 212/364 [00:03&lt;00:02,   61.46it/s]
 59%|#####8    | Channels : 213/364 [00:03&lt;00:02,   61.43it/s]
 59%|#####8    | Channels : 214/364 [00:03&lt;00:02,   60.66it/s]
 59%|#####9    | Channels : 215/364 [00:03&lt;00:02,   60.68it/s]
 60%|#####9    | Channels : 217/364 [00:03&lt;00:02,   61.09it/s]
 60%|#####9    | Channels : 218/364 [00:03&lt;00:02,   61.08it/s]
 60%|######    | Channels : 220/364 [00:03&lt;00:02,   61.20it/s]
 61%|######    | Channels : 221/364 [00:03&lt;00:02,   61.11it/s]
 61%|######1   | Channels : 223/364 [00:03&lt;00:02,   61.16it/s]
 62%|######1   | Channels : 224/364 [00:03&lt;00:02,   60.03it/s]
 62%|######2   | Channels : 226/364 [00:03&lt;00:02,   59.01it/s]
 62%|######2   | Channels : 227/364 [00:03&lt;00:02,   57.28it/s]
 63%|######2   | Channels : 229/364 [00:03&lt;00:02,   58.11it/s]
 63%|######3   | Channels : 231/364 [00:03&lt;00:02,   58.97it/s]
 64%|######3   | Channels : 232/364 [00:03&lt;00:02,   57.96it/s]
 64%|######4   | Channels : 233/364 [00:03&lt;00:02,   57.17it/s]
 65%|######4   | Channels : 235/364 [00:03&lt;00:02,   57.55it/s]
 65%|######4   | Channels : 236/364 [00:03&lt;00:02,   57.64it/s]
 65%|######5   | Channels : 238/364 [00:03&lt;00:02,   58.14it/s]
 66%|######5   | Channels : 239/364 [00:03&lt;00:02,   58.10it/s]
 66%|######6   | Channels : 241/364 [00:03&lt;00:02,   58.58it/s]
 66%|######6   | Channels : 242/364 [00:03&lt;00:02,   58.46it/s]
 67%|######7   | Channels : 244/364 [00:03&lt;00:02,   59.18it/s]
 67%|######7   | Channels : 245/364 [00:03&lt;00:02,   58.83it/s]
 68%|######7   | Channels : 247/364 [00:03&lt;00:01,   59.26it/s]
 68%|######8   | Channels : 248/364 [00:03&lt;00:01,   59.37it/s]
 69%|######8   | Channels : 250/364 [00:03&lt;00:01,   59.54it/s]
 69%|######8   | Channels : 251/364 [00:03&lt;00:01,   59.41it/s]
 70%|######9   | Channels : 253/364 [00:03&lt;00:01,   59.43it/s]
 70%|######9   | Channels : 254/364 [00:03&lt;00:01,   58.59it/s]
 70%|#######   | Channels : 256/364 [00:03&lt;00:01,   59.16it/s]
 71%|#######   | Channels : 257/364 [00:03&lt;00:01,   58.87it/s]
 71%|#######1  | Channels : 259/364 [00:03&lt;00:01,   59.43it/s]
 71%|#######1  | Channels : 260/364 [00:03&lt;00:01,   59.52it/s]
 72%|#######1  | Channels : 262/364 [00:03&lt;00:01,   59.99it/s]
 72%|#######2  | Channels : 263/364 [00:03&lt;00:01,   59.81it/s]
 73%|#######2  | Channels : 265/364 [00:03&lt;00:01,   59.47it/s]
 73%|#######3  | Channels : 266/364 [00:04&lt;00:01,   57.29it/s]
 74%|#######3  | Channels : 268/364 [00:04&lt;00:01,   57.80it/s]
 74%|#######3  | Channels : 269/364 [00:04&lt;00:01,   57.65it/s]
 74%|#######4  | Channels : 271/364 [00:04&lt;00:01,   58.07it/s]
 75%|#######5  | Channels : 273/364 [00:04&lt;00:01,   58.83it/s]
 76%|#######5  | Channels : 275/364 [00:04&lt;00:01,   59.29it/s]
 76%|#######6  | Channels : 277/364 [00:04&lt;00:01,   60.14it/s]
 77%|#######6  | Channels : 279/364 [00:04&lt;00:01,   60.86it/s]
 77%|#######6  | Channels : 280/364 [00:04&lt;00:01,   60.57it/s]
 77%|#######7  | Channels : 282/364 [00:04&lt;00:01,   60.88it/s]
 78%|#######7  | Channels : 283/364 [00:04&lt;00:01,   60.39it/s]
 78%|#######8  | Channels : 285/364 [00:04&lt;00:01,   60.95it/s]
 79%|#######8  | Channels : 287/364 [00:04&lt;00:01,   61.64it/s]
 79%|#######9  | Channels : 288/364 [00:04&lt;00:01,   61.50it/s]
 80%|#######9  | Channels : 290/364 [00:04&lt;00:01,   62.28it/s]
 80%|#######9  | Channels : 291/364 [00:04&lt;00:01,   62.01it/s]
 80%|########  | Channels : 292/364 [00:04&lt;00:01,   61.69it/s]
 81%|########  | Channels : 294/364 [00:04&lt;00:01,   62.09it/s]
 81%|########1 | Channels : 296/364 [00:04&lt;00:01,   62.78it/s]
 82%|########1 | Channels : 297/364 [00:04&lt;00:01,   62.47it/s]
 82%|########1 | Channels : 298/364 [00:04&lt;00:01,   61.77it/s]
 82%|########2 | Channels : 300/364 [00:04&lt;00:01,   62.29it/s]
 83%|########2 | Channels : 302/364 [00:04&lt;00:00,   62.96it/s]
 84%|########3 | Channels : 304/364 [00:04&lt;00:00,   63.05it/s]
 85%|########4 | Channels : 308/364 [00:04&lt;00:00,   65.43it/s]
 87%|########6 | Channels : 315/364 [00:04&lt;00:00,   68.25it/s]
 88%|########7 | Channels : 319/364 [00:04&lt;00:00,   70.75it/s]
 89%|########9 | Channels : 325/364 [00:04&lt;00:00,   73.74it/s]
 91%|#########1| Channels : 332/364 [00:04&lt;00:00,   76.84it/s]
 93%|#########2| Channels : 337/364 [00:04&lt;00:00,   79.85it/s]
 94%|#########4| Channels : 343/364 [00:04&lt;00:00,   83.00it/s]
 96%|#########5| Channels : 348/364 [00:04&lt;00:00,   86.15it/s]
 97%|#########6| Channels : 353/364 [00:04&lt;00:00,   89.34it/s]
 98%|#########8| Channels : 358/364 [00:04&lt;00:00,   92.61it/s]
100%|#########9| Channels : 363/364 [00:04&lt;00:00,   95.85it/s]
100%|##########| Channels : 364/364 [00:04&lt;00:00,   76.35it/s]
Marking 0.00% of time points (0 segments) and 0/364 channels bad
</pre></div>
</div>
<p>You can even apply frequency filters when viewing the data: A high-pass
filter can remove slow drifts, while a low-pass filter will get rid of
high-frequency artifacts. This can make visual inspection easier. Let’s
apply filters with a 1-Hz high-pass cutoff, and a 30-Hz low-pass cutoff:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="../generated/mne_bids.inspect_dataset.html#mne_bids.inspect_dataset" title="mne_bids.inspect_dataset" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-function"><span class="n">inspect_dataset</span></a><span class="p">(</span><a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="p">,</span> <span class="n">l_freq</span><span class="o">=</span><span class="mf">1.</span><span class="p">,</span> <span class="n">h_freq</span><span class="o">=</span><span class="mf">30.</span><span class="p">)</span>
</pre></div>
</div>
<ul class="sphx-glr-horizontal">
<li><img alt="mark bad channels" class="sphx-glr-multi-img" src="../_images/sphx_glr_mark_bad_channels_003.png" />
</li>
<li><img alt="Projectors marked with &quot;X&quot; are active on the plot." class="sphx-glr-multi-img" src="../_images/sphx_glr_mark_bad_channels_004.png" />
</li>
</ul>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Opening raw data file /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_meg.fif...
    Read a total of 3 projection items:
        PCA-v1 (1 x 102)  idle
        PCA-v2 (1 x 102)  idle
        PCA-v3 (1 x 102)  idle
    Range : 25800 ... 192599 =     42.956 ...   320.670 secs
Ready.
Reading events from /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_events.tsv.
Reading channel info from /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_channels.tsv.
/home/circleci/project/mne_bids/read.py:337: RuntimeWarning: The unit for channel(s) STI 001, STI 002, STI 003, STI 004, STI 005, STI 006, STI 014, STI 015, STI 016 has changed from V to NA.
  raw.set_channel_types(channel_type_dict)
Reading 0 ... 166799  =      0.000 ...   277.714 secs...
Finding flat segments

  0%|          | Channels : 0/364 [00:00&lt;?,       ?it/s]
  0%|          | Channels : 1/364 [00:00&lt;00:09,   37.06it/s]
  1%|          | Channels : 2/364 [00:00&lt;00:09,   37.47it/s]
  1%|          | Channels : 3/364 [00:00&lt;00:09,   38.18it/s]
  1%|1         | Channels : 4/364 [00:00&lt;00:09,   38.33it/s]
  1%|1         | Channels : 5/364 [00:00&lt;00:09,   38.93it/s]
  2%|1         | Channels : 7/364 [00:00&lt;00:08,   39.89it/s]
  2%|2         | Channels : 8/364 [00:00&lt;00:08,   40.60it/s]
  3%|2         | Channels : 10/364 [00:00&lt;00:08,   41.63it/s]
  3%|3         | Channels : 11/364 [00:00&lt;00:08,   42.23it/s]
  4%|3         | Channels : 13/364 [00:00&lt;00:08,   43.20it/s]
  4%|3         | Channels : 14/364 [00:00&lt;00:07,   43.75it/s]
  4%|4         | Channels : 16/364 [00:00&lt;00:07,   44.49it/s]
  5%|4         | Channels : 18/364 [00:00&lt;00:07,   45.52it/s]
  5%|5         | Channels : 19/364 [00:00&lt;00:07,   45.63it/s]
  5%|5         | Channels : 20/364 [00:00&lt;00:07,   46.10it/s]
  6%|6         | Channels : 22/364 [00:00&lt;00:07,   47.12it/s]
  7%|6         | Channels : 24/364 [00:00&lt;00:07,   48.30it/s]
  7%|7         | Channels : 26/364 [00:00&lt;00:06,   48.88it/s]
  8%|7         | Channels : 28/364 [00:00&lt;00:06,   49.62it/s]
  8%|7         | Channels : 29/364 [00:00&lt;00:06,   50.07it/s]
  9%|8         | Channels : 31/364 [00:00&lt;00:06,   51.05it/s]
  9%|8         | Channels : 32/364 [00:00&lt;00:06,   51.19it/s]
  9%|9         | Channels : 34/364 [00:00&lt;00:06,   52.30it/s]
 10%|9         | Channels : 36/364 [00:00&lt;00:06,   53.28it/s]
 10%|#         | Channels : 37/364 [00:00&lt;00:06,   53.45it/s]
 10%|#         | Channels : 38/364 [00:00&lt;00:06,   53.26it/s]
 11%|#         | Channels : 40/364 [00:00&lt;00:06,   53.47it/s]
 11%|#1        | Channels : 41/364 [00:00&lt;00:06,   51.91it/s]
 12%|#1        | Channels : 43/364 [00:00&lt;00:06,   52.41it/s]
 12%|#2        | Channels : 44/364 [00:00&lt;00:06,   52.48it/s]
 13%|#2        | Channels : 46/364 [00:00&lt;00:05,   53.20it/s]
 13%|#2        | Channels : 47/364 [00:00&lt;00:05,   53.54it/s]
 13%|#3        | Channels : 49/364 [00:00&lt;00:05,   54.34it/s]
 14%|#3        | Channels : 50/364 [00:00&lt;00:05,   54.50it/s]
 14%|#4        | Channels : 52/364 [00:00&lt;00:05,   55.36it/s]
 15%|#4        | Channels : 53/364 [00:00&lt;00:05,   55.56it/s]
 15%|#5        | Channels : 55/364 [00:00&lt;00:05,   56.00it/s]
 15%|#5        | Channels : 56/364 [00:00&lt;00:05,   56.25it/s]
 16%|#5        | Channels : 58/364 [00:00&lt;00:05,   56.87it/s]
 16%|#6        | Channels : 59/364 [00:00&lt;00:05,   57.08it/s]
 17%|#6        | Channels : 61/364 [00:00&lt;00:05,   57.48it/s]
 17%|#7        | Channels : 62/364 [00:00&lt;00:05,   55.69it/s]
 18%|#7        | Channels : 64/364 [00:00&lt;00:05,   56.48it/s]
 18%|#7        | Channels : 65/364 [00:01&lt;00:05,   56.47it/s]
 18%|#8        | Channels : 67/364 [00:01&lt;00:05,   57.41it/s]
 19%|#8        | Channels : 68/364 [00:01&lt;00:05,   57.48it/s]
 19%|#9        | Channels : 70/364 [00:01&lt;00:05,   57.81it/s]
 20%|#9        | Channels : 71/364 [00:01&lt;00:05,   56.41it/s]
 20%|##        | Channels : 73/364 [00:01&lt;00:05,   57.32it/s]
 20%|##        | Channels : 74/364 [00:01&lt;00:05,   57.32it/s]
 21%|##        | Channels : 76/364 [00:01&lt;00:04,   58.10it/s]
 21%|##1       | Channels : 78/364 [00:01&lt;00:04,   59.04it/s]
 22%|##1       | Channels : 79/364 [00:01&lt;00:04,   59.04it/s]
 22%|##1       | Channels : 80/364 [00:01&lt;00:04,   58.88it/s]
 23%|##2       | Channels : 82/364 [00:01&lt;00:04,   59.64it/s]
 23%|##2       | Channels : 83/364 [00:01&lt;00:04,   59.64it/s]
 23%|##3       | Channels : 85/364 [00:01&lt;00:04,   60.45it/s]
 24%|##3       | Channels : 87/364 [00:01&lt;00:04,   60.90it/s]
 24%|##4       | Channels : 88/364 [00:01&lt;00:04,   59.86it/s]
 24%|##4       | Channels : 89/364 [00:01&lt;00:04,   58.14it/s]
 25%|##5       | Channels : 91/364 [00:01&lt;00:04,   58.46it/s]
 25%|##5       | Channels : 92/364 [00:01&lt;00:04,   57.65it/s]
 26%|##5       | Channels : 94/364 [00:01&lt;00:04,   57.77it/s]
 26%|##6       | Channels : 95/364 [00:01&lt;00:04,   57.19it/s]
 27%|##6       | Channels : 97/364 [00:01&lt;00:04,   57.58it/s]
 27%|##6       | Channels : 98/364 [00:01&lt;00:04,   57.06it/s]
 27%|##7       | Channels : 100/364 [00:01&lt;00:04,   56.32it/s]
 28%|##7       | Channels : 101/364 [00:01&lt;00:04,   54.71it/s]
 28%|##8       | Channels : 102/364 [00:01&lt;00:04,   54.94it/s]
 28%|##8       | Channels : 103/364 [00:01&lt;00:04,   53.30it/s]
 29%|##8       | Channels : 104/364 [00:01&lt;00:05,   51.94it/s]
 29%|##9       | Channels : 106/364 [00:01&lt;00:04,   52.96it/s]
 30%|##9       | Channels : 108/364 [00:01&lt;00:04,   53.91it/s]
 30%|###       | Channels : 110/364 [00:01&lt;00:04,   54.39it/s]
 31%|###       | Channels : 112/364 [00:01&lt;00:04,   54.04it/s]
 31%|###1      | Channels : 113/364 [00:01&lt;00:04,   53.56it/s]
 32%|###1      | Channels : 115/364 [00:01&lt;00:04,   54.48it/s]
 32%|###1      | Channels : 116/364 [00:01&lt;00:04,   54.67it/s]
 32%|###2      | Channels : 118/364 [00:01&lt;00:04,   55.62it/s]
 33%|###2      | Channels : 119/364 [00:01&lt;00:04,   55.81it/s]
 33%|###3      | Channels : 121/364 [00:01&lt;00:04,   56.79it/s]
 34%|###3      | Channels : 123/364 [00:01&lt;00:04,   57.73it/s]
 34%|###4      | Channels : 125/364 [00:01&lt;00:04,   58.26it/s]
 35%|###4      | Channels : 127/364 [00:02&lt;00:04,   59.15it/s]
 35%|###5      | Channels : 128/364 [00:02&lt;00:04,   58.97it/s]
 36%|###5      | Channels : 130/364 [00:02&lt;00:03,   59.67it/s]
 36%|###6      | Channels : 132/364 [00:02&lt;00:03,   60.59it/s]
 37%|###6      | Channels : 134/364 [00:02&lt;00:03,   60.93it/s]
 37%|###7      | Channels : 136/364 [00:02&lt;00:03,   60.56it/s]
 38%|###7      | Channels : 137/364 [00:02&lt;00:03,   58.08it/s]
 38%|###8      | Channels : 139/364 [00:02&lt;00:03,   58.80it/s]
 39%|###8      | Channels : 141/364 [00:02&lt;00:03,   59.67it/s]
 39%|###9      | Channels : 142/364 [00:02&lt;00:03,   59.74it/s]
 40%|###9      | Channels : 144/364 [00:02&lt;00:03,   60.64it/s]
 40%|####      | Channels : 146/364 [00:02&lt;00:03,   61.38it/s]
 41%|####      | Channels : 148/364 [00:02&lt;00:03,   61.95it/s]
 41%|####      | Channels : 149/364 [00:02&lt;00:03,   61.70it/s]
 41%|####1     | Channels : 151/364 [00:02&lt;00:03,   61.57it/s]
 42%|####2     | Channels : 153/364 [00:02&lt;00:03,   62.09it/s]
 43%|####2     | Channels : 155/364 [00:02&lt;00:03,   62.36it/s]
 43%|####3     | Channels : 157/364 [00:02&lt;00:03,   63.04it/s]
 43%|####3     | Channels : 158/364 [00:02&lt;00:03,   62.79it/s]
 44%|####3     | Channels : 160/364 [00:02&lt;00:03,   63.39it/s]
 45%|####4     | Channels : 162/364 [00:02&lt;00:03,   64.14it/s]
 45%|####4     | Channels : 163/364 [00:02&lt;00:03,   63.70it/s]
 45%|####5     | Channels : 164/364 [00:02&lt;00:03,   63.52it/s]
 46%|####5     | Channels : 166/364 [00:02&lt;00:03,   64.29it/s]
 46%|####5     | Channels : 167/364 [00:02&lt;00:03,   64.03it/s]
 46%|####6     | Channels : 169/364 [00:02&lt;00:03,   64.77it/s]
 47%|####6     | Channels : 170/364 [00:02&lt;00:03,   64.63it/s]
 47%|####7     | Channels : 172/364 [00:02&lt;00:02,   65.07it/s]
 48%|####7     | Channels : 173/364 [00:02&lt;00:02,   64.17it/s]
 48%|####8     | Channels : 175/364 [00:02&lt;00:02,   64.78it/s]
 48%|####8     | Channels : 176/364 [00:02&lt;00:02,   64.37it/s]
 49%|####8     | Channels : 178/364 [00:02&lt;00:02,   65.10it/s]
 49%|####9     | Channels : 179/364 [00:02&lt;00:02,   64.74it/s]
 50%|####9     | Channels : 181/364 [00:02&lt;00:02,   65.46it/s]
 50%|#####     | Channels : 183/364 [00:02&lt;00:02,   65.96it/s]
 51%|#####     | Channels : 185/364 [00:02&lt;00:02,   65.97it/s]
 51%|#####1    | Channels : 187/364 [00:02&lt;00:02,   66.44it/s]
 52%|#####1    | Channels : 188/364 [00:02&lt;00:02,   65.63it/s]
 52%|#####2    | Channels : 190/364 [00:02&lt;00:02,   66.15it/s]
 52%|#####2    | Channels : 191/364 [00:02&lt;00:02,   65.75it/s]
 53%|#####3    | Channels : 193/364 [00:02&lt;00:02,   66.54it/s]
 54%|#####3    | Channels : 195/364 [00:02&lt;00:02,   67.07it/s]
 54%|#####4    | Channels : 197/364 [00:03&lt;00:02,   66.79it/s]
 55%|#####4    | Channels : 199/364 [00:03&lt;00:02,   67.33it/s]
 55%|#####4    | Channels : 200/364 [00:03&lt;00:02,   67.03it/s]
 55%|#####5    | Channels : 202/364 [00:03&lt;00:02,   67.51it/s]
 56%|#####5    | Channels : 203/364 [00:03&lt;00:02,   67.20it/s]
 56%|#####6    | Channels : 205/364 [00:03&lt;00:02,   67.42it/s]
 57%|#####6    | Channels : 206/364 [00:03&lt;00:02,   67.08it/s]
 57%|#####7    | Channels : 208/364 [00:03&lt;00:02,   67.51it/s]
 58%|#####7    | Channels : 210/364 [00:03&lt;00:02,   68.03it/s]
 58%|#####8    | Channels : 212/364 [00:03&lt;00:02,   67.72it/s]
 59%|#####8    | Channels : 214/364 [00:03&lt;00:02,   67.86it/s]
 59%|#####9    | Channels : 216/364 [00:03&lt;00:02,   68.27it/s]
 60%|#####9    | Channels : 217/364 [00:03&lt;00:02,   67.67it/s]
 60%|######    | Channels : 219/364 [00:03&lt;00:02,   68.16it/s]
 61%|######    | Channels : 221/364 [00:03&lt;00:02,   68.08it/s]
 61%|######1   | Channels : 223/364 [00:03&lt;00:02,   68.23it/s]
 62%|######1   | Channels : 224/364 [00:03&lt;00:02,   67.65it/s]
 62%|######2   | Channels : 226/364 [00:03&lt;00:02,   67.74it/s]
 62%|######2   | Channels : 227/364 [00:03&lt;00:02,   66.71it/s]
 63%|######2   | Channels : 229/364 [00:03&lt;00:02,   67.28it/s]
 63%|######3   | Channels : 231/364 [00:03&lt;00:01,   68.11it/s]
 64%|######4   | Channels : 233/364 [00:03&lt;00:01,   67.80it/s]
 65%|######4   | Channels : 235/364 [00:03&lt;00:01,   67.90it/s]
 65%|######4   | Channels : 236/364 [00:03&lt;00:01,   67.56it/s]
 65%|######5   | Channels : 238/364 [00:03&lt;00:01,   68.02it/s]
 66%|######5   | Channels : 239/364 [00:03&lt;00:01,   67.53it/s]
 66%|######6   | Channels : 241/364 [00:03&lt;00:01,   67.94it/s]
 66%|######6   | Channels : 242/364 [00:03&lt;00:01,   67.56it/s]
 67%|######7   | Channels : 244/364 [00:03&lt;00:01,   68.21it/s]
 67%|######7   | Channels : 245/364 [00:03&lt;00:01,   67.58it/s]
 68%|######7   | Channels : 247/364 [00:03&lt;00:01,   68.05it/s]
 68%|######8   | Channels : 249/364 [00:03&lt;00:01,   68.69it/s]
 69%|######8   | Channels : 251/364 [00:03&lt;00:01,   68.43it/s]
 70%|######9   | Channels : 253/364 [00:03&lt;00:01,   68.96it/s]
 70%|######9   | Channels : 254/364 [00:03&lt;00:01,   68.11it/s]
 70%|#######   | Channels : 256/364 [00:03&lt;00:01,   68.32it/s]
 71%|#######   | Channels : 258/364 [00:03&lt;00:01,   68.87it/s]
 71%|#######1  | Channels : 260/364 [00:03&lt;00:01,   68.87it/s]
 72%|#######1  | Channels : 262/364 [00:03&lt;00:01,   69.46it/s]
 73%|#######2  | Channels : 264/364 [00:03&lt;00:01,   70.02it/s]
 73%|#######2  | Channels : 265/364 [00:03&lt;00:01,   68.93it/s]
 73%|#######3  | Channels : 266/364 [00:03&lt;00:01,   68.43it/s]
 74%|#######3  | Channels : 268/364 [00:04&lt;00:01,   68.98it/s]
 74%|#######4  | Channels : 270/364 [00:04&lt;00:01,   69.43it/s]
 74%|#######4  | Channels : 271/364 [00:04&lt;00:01,   68.82it/s]
 75%|#######5  | Channels : 273/364 [00:04&lt;00:01,   69.13it/s]
 76%|#######5  | Channels : 275/364 [00:04&lt;00:01,   69.42it/s]
 76%|#######6  | Channels : 277/364 [00:04&lt;00:01,   70.21it/s]
 76%|#######6  | Channels : 278/364 [00:04&lt;00:01,   69.59it/s]
 77%|#######6  | Channels : 280/364 [00:04&lt;00:01,   69.86it/s]
 77%|#######7  | Channels : 282/364 [00:04&lt;00:01,   69.82it/s]
 78%|#######7  | Channels : 283/364 [00:04&lt;00:01,   68.35it/s]
 78%|#######8  | Channels : 285/364 [00:04&lt;00:01,   68.19it/s]
 79%|#######8  | Channels : 287/364 [00:04&lt;00:01,   68.74it/s]
 79%|#######9  | Channels : 288/364 [00:04&lt;00:01,   68.31it/s]
 80%|#######9  | Channels : 290/364 [00:04&lt;00:01,   68.91it/s]
 80%|#######9  | Channels : 291/364 [00:04&lt;00:01,   66.77it/s]
 80%|########  | Channels : 292/364 [00:04&lt;00:01,   66.48it/s]
 81%|########  | Channels : 294/364 [00:04&lt;00:01,   67.06it/s]
 81%|########1 | Channels : 296/364 [00:04&lt;00:01,   67.84it/s]
 82%|########1 | Channels : 297/364 [00:04&lt;00:00,   67.24it/s]
 82%|########1 | Channels : 298/364 [00:04&lt;00:00,   66.60it/s]
 82%|########2 | Channels : 300/364 [00:04&lt;00:00,   67.22it/s]
 83%|########2 | Channels : 302/364 [00:04&lt;00:00,   67.80it/s]
 83%|########3 | Channels : 303/364 [00:04&lt;00:00,   65.39it/s]
 84%|########3 | Channels : 305/364 [00:04&lt;00:00,   65.98it/s]
 86%|########5 | Channels : 312/364 [00:04&lt;00:00,   68.87it/s]
 87%|########7 | Channels : 318/364 [00:04&lt;00:00,   71.80it/s]
 89%|########9 | Channels : 325/364 [00:04&lt;00:00,   74.87it/s]
 91%|#########1| Channels : 332/364 [00:04&lt;00:00,   78.00it/s]
 93%|#########2| Channels : 338/364 [00:04&lt;00:00,   81.06it/s]
 95%|#########4| Channels : 344/364 [00:04&lt;00:00,   84.26it/s]
 96%|#########6| Channels : 350/364 [00:04&lt;00:00,   87.49it/s]
 98%|#########7| Channels : 356/364 [00:04&lt;00:00,   90.79it/s]
 99%|#########9| Channels : 361/364 [00:04&lt;00:00,   94.12it/s]
100%|##########| Channels : 364/364 [00:04&lt;00:00,   77.37it/s]
Marking 0.00% of time points (0 segments) and 0/364 channels bad
</pre></div>
</div>
<p>By pressing the <code class="docutils literal notranslate"><span class="pre">A</span></code> key, you can toggle annotation mode to add, edit, or
remove experimental events, or to mark entire time periods as bad. Please see
the <a class="reference external" href="https://mne.tools/stable/auto_tutorials/raw/plot_30_annotate_raw.html#annotating-raw-objects-interactively">MNE-Python Annotations tutorial</a> for an introduction to the interactive
interface. If you’re closing the main window after changing the annotations,
you will be prompted whether you wish to save the changes. Your raw data and
the <em class="xref py py-obj">*_events.tsv</em> sidecar file will be updated upon saving.</p>
</div>
<div class="section" id="non-interactive-programmatic-bad-channel-selection">
<h2>Non-interactive (programmatic) bad channel selection<a class="headerlink" href="#non-interactive-programmatic-bad-channel-selection" title="Permalink to this headline">¶</a></h2>
<p>Read the (now BIDS-formatted) data and print a list of channels currently
marked as bad.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="https://mne.tools/dev/generated/mne.io.Raw.html#mne.io.Raw" title="mne.io.Raw" class="sphx-glr-backref-module-mne-io sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">raw</span></a> <span class="o">=</span> <a href="../generated/mne_bids.read_raw_bids.html#mne_bids.read_raw_bids" title="mne_bids.read_raw_bids" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-function"><span class="n">read_raw_bids</span></a><span class="p">(</span><a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="o">=</span><a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The following channels are currently marked as bad:</span><span class="se">\n</span><span class="s1">&#39;</span>
      <span class="sa">f</span><span class="s1">&#39;    </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><a href="https://mne.tools/dev/generated/mne.Info.html#mne.Info" title="mne.Info" class="sphx-glr-backref-module-mne sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">raw</span><span class="o">.</span><span class="n">info</span></a><span class="p">[</span><span class="s2">&quot;bads&quot;</span><span class="p">])</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Opening raw data file /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_meg.fif...
    Read a total of 3 projection items:
        PCA-v1 (1 x 102)  idle
        PCA-v2 (1 x 102)  idle
        PCA-v3 (1 x 102)  idle
    Range : 25800 ... 192599 =     42.956 ...   320.670 secs
Ready.
Reading events from /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_events.tsv.
Reading channel info from /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_channels.tsv.
/home/circleci/project/mne_bids/read.py:337: RuntimeWarning: The unit for channel(s) STI 001, STI 002, STI 003, STI 004, STI 005, STI 006, STI 014, STI 015, STI 016 has changed from V to NA.
  raw.set_channel_types(channel_type_dict)
The following channels are currently marked as bad:
    MEG 2443, EEG 053
</pre></div>
</div>
<p>So currently, two channels are maked as bad: <code class="docutils literal notranslate"><span class="pre">EEG</span> <span class="pre">053</span></code> and <code class="docutils literal notranslate"><span class="pre">MEG</span> <span class="pre">2443</span></code>.
Let’s assume that through visual data inspection, we found that two more
MEG channels are problematic, and we would like to mark them as bad as well.
To do that, we simply add them to a list, which we then pass to
<a class="reference internal" href="../generated/mne_bids.mark_bad_channels.html#mne_bids.mark_bad_channels" title="mne_bids.mark_bad_channels"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne_bids.mark_bad_channels()</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bads</span></a> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;MEG 0112&#39;</span><span class="p">,</span> <span class="s1">&#39;MEG 0131&#39;</span><span class="p">]</span>
<a href="../generated/mne_bids.mark_bad_channels.html#mne_bids.mark_bad_channels" title="mne_bids.mark_bad_channels" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-function"><span class="n">mark_bad_channels</span></a><span class="p">(</span><span class="n">ch_names</span><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bads</span></a><span class="p">,</span> <a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="o">=</span><a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Processing channel MEG 0112:
    status: bad
    description: n/a
Processing channel MEG 0131:
    status: bad
    description: n/a
</pre></div>
</div>
<p>That’s it! Let’s verify the result.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="https://mne.tools/dev/generated/mne.io.Raw.html#mne.io.Raw" title="mne.io.Raw" class="sphx-glr-backref-module-mne-io sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">raw</span></a> <span class="o">=</span> <a href="../generated/mne_bids.read_raw_bids.html#mne_bids.read_raw_bids" title="mne_bids.read_raw_bids" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-function"><span class="n">read_raw_bids</span></a><span class="p">(</span><a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="o">=</span><a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;After marking MEG 0112 and MEG 0131 as bad, the following channels &#39;</span>
      <span class="sa">f</span><span class="s1">&#39;are now marked as bad:</span><span class="se">\n</span><span class="s1">    </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><a href="https://mne.tools/dev/generated/mne.Info.html#mne.Info" title="mne.Info" class="sphx-glr-backref-module-mne sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">raw</span><span class="o">.</span><span class="n">info</span></a><span class="p">[</span><span class="s2">&quot;bads&quot;</span><span class="p">])</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Opening raw data file /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_meg.fif...
    Read a total of 3 projection items:
        PCA-v1 (1 x 102)  idle
        PCA-v2 (1 x 102)  idle
        PCA-v3 (1 x 102)  idle
    Range : 25800 ... 192599 =     42.956 ...   320.670 secs
Ready.
Reading events from /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_events.tsv.
Reading channel info from /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_channels.tsv.
/home/circleci/project/mne_bids/read.py:337: RuntimeWarning: The unit for channel(s) STI 001, STI 002, STI 003, STI 004, STI 005, STI 006, STI 014, STI 015, STI 016 has changed from V to NA.
  raw.set_channel_types(channel_type_dict)
After marking MEG 0112 and MEG 0131 as bad, the following channels are now marked as bad:
    MEG 0112, MEG 0131, MEG 2443, EEG 053
</pre></div>
</div>
<p>As you can see, now a total of <strong>four</strong> channels is marked as bad: the ones
that were already bad when we started – <code class="docutils literal notranslate"><span class="pre">EEG</span> <span class="pre">053</span></code> and <code class="docutils literal notranslate"><span class="pre">MEG</span> <span class="pre">2443</span></code> – and
the two channels we passed to <a class="reference internal" href="../generated/mne_bids.mark_bad_channels.html#mne_bids.mark_bad_channels" title="mne_bids.mark_bad_channels"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne_bids.mark_bad_channels()</span></code></a> –
<code class="docutils literal notranslate"><span class="pre">MEG</span> <span class="pre">0112</span></code> and <code class="docutils literal notranslate"><span class="pre">MEG</span> <span class="pre">0131</span></code>. This shows that marking bad channels via
<a class="reference internal" href="../generated/mne_bids.mark_bad_channels.html#mne_bids.mark_bad_channels" title="mne_bids.mark_bad_channels"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne_bids.mark_bad_channels()</span></code></a>, by default, is an <strong>additive</strong> procedure,
which allows you to mark additional channels as bad while retaining the
information about all channels that had <em>previously</em> been marked as bad.</p>
<p>If you instead would like to <strong>replace</strong> the collection of bad channels
entirely, pass the argument <code class="docutils literal notranslate"><span class="pre">overwrite=True</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bads</span></a> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;MEG 0112&#39;</span><span class="p">,</span> <span class="s1">&#39;MEG 0131&#39;</span><span class="p">]</span>
<a href="../generated/mne_bids.mark_bad_channels.html#mne_bids.mark_bad_channels" title="mne_bids.mark_bad_channels" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-function"><span class="n">mark_bad_channels</span></a><span class="p">(</span><span class="n">ch_names</span><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bads</span></a><span class="p">,</span> <a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="o">=</span><a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                  <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<a href="https://mne.tools/dev/generated/mne.io.Raw.html#mne.io.Raw" title="mne.io.Raw" class="sphx-glr-backref-module-mne-io sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">raw</span></a> <span class="o">=</span> <a href="../generated/mne_bids.read_raw_bids.html#mne_bids.read_raw_bids" title="mne_bids.read_raw_bids" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-function"><span class="n">read_raw_bids</span></a><span class="p">(</span><a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="o">=</span><a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;After marking MEG 0112 and MEG 0131 as bad and passing &#39;</span>
      <span class="sa">f</span><span class="s1">&#39;`overwrite=True`, the following channels &#39;</span>
      <span class="sa">f</span><span class="s1">&#39;are now marked as bad:</span><span class="se">\n</span><span class="s1">    </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><a href="https://mne.tools/dev/generated/mne.Info.html#mne.Info" title="mne.Info" class="sphx-glr-backref-module-mne sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">raw</span><span class="o">.</span><span class="n">info</span></a><span class="p">[</span><span class="s2">&quot;bads&quot;</span><span class="p">])</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Resetting status and description for all channels.
Processing channel MEG 0112:
    status: bad
    description: n/a
Processing channel MEG 0131:
    status: bad
    description: n/a
Opening raw data file /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_meg.fif...
    Read a total of 3 projection items:
        PCA-v1 (1 x 102)  idle
        PCA-v2 (1 x 102)  idle
        PCA-v3 (1 x 102)  idle
    Range : 25800 ... 192599 =     42.956 ...   320.670 secs
Ready.
Reading events from /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_events.tsv.
Reading channel info from /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_channels.tsv.
/home/circleci/project/mne_bids/read.py:337: RuntimeWarning: The unit for channel(s) STI 001, STI 002, STI 003, STI 004, STI 005, STI 006, STI 014, STI 015, STI 016 has changed from V to NA.
  raw.set_channel_types(channel_type_dict)
After marking MEG 0112 and MEG 0131 as bad and passing `overwrite=True`, the following channels are now marked as bad:
    MEG 0112, MEG 0131
</pre></div>
</div>
<p>Lastly, if you’re looking for a way to mark all channels as good, simply
pass an empty list as <code class="docutils literal notranslate"><span class="pre">ch_names</span></code>, combined with <code class="docutils literal notranslate"><span class="pre">overwrite=True</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bads</span></a> <span class="o">=</span> <span class="p">[]</span>
<a href="../generated/mne_bids.mark_bad_channels.html#mne_bids.mark_bad_channels" title="mne_bids.mark_bad_channels" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-function"><span class="n">mark_bad_channels</span></a><span class="p">(</span><span class="n">ch_names</span><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bads</span></a><span class="p">,</span> <a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="o">=</span><a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                  <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<a href="https://mne.tools/dev/generated/mne.io.Raw.html#mne.io.Raw" title="mne.io.Raw" class="sphx-glr-backref-module-mne-io sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">raw</span></a> <span class="o">=</span> <a href="../generated/mne_bids.read_raw_bids.html#mne_bids.read_raw_bids" title="mne_bids.read_raw_bids" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-function"><span class="n">read_raw_bids</span></a><span class="p">(</span><a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="o">=</span><a href="../generated/mne_bids.BIDSPath.html#mne_bids.BIDSPath" title="mne_bids.BIDSPath" class="sphx-glr-backref-module-mne_bids sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_path</span></a><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;After passing `ch_names=[]` and `overwrite=True`, the following &#39;</span>
      <span class="sa">f</span><span class="s1">&#39;channels are now marked as bad:</span><span class="se">\n</span><span class="s1">    </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><a href="https://mne.tools/dev/generated/mne.Info.html#mne.Info" title="mne.Info" class="sphx-glr-backref-module-mne sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">raw</span><span class="o">.</span><span class="n">info</span></a><span class="p">[</span><span class="s2">&quot;bads&quot;</span><span class="p">])</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Resetting status and description for all channels.
Opening raw data file /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_meg.fif...
    Read a total of 3 projection items:
        PCA-v1 (1 x 102)  idle
        PCA-v2 (1 x 102)  idle
        PCA-v3 (1 x 102)  idle
    Range : 25800 ... 192599 =     42.956 ...   320.670 secs
Ready.
Reading events from /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_events.tsv.
Reading channel info from /home/circleci/mne_data/MNE-sample-data/../MNE-sample-data-bids/sub-01/ses-01/meg/sub-01_ses-01_task-audiovisual_run-01_channels.tsv.
/home/circleci/project/mne_bids/read.py:337: RuntimeWarning: The unit for channel(s) STI 001, STI 002, STI 003, STI 004, STI 005, STI 006, STI 014, STI 015, STI 016 has changed from V to NA.
  raw.set_channel_types(channel_type_dict)
After passing `ch_names=[]` and `overwrite=True`, the following channels are now marked as bad:
</pre></div>
</div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 0 minutes  15.914 seconds)</p>
<div class="sphx-glr-footer class sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-examples-mark-bad-channels-py">
<div class="binder-badge docutils container">
<a class="reference external image-reference" href="https://mybinder.org/v2/gh/mne-tools/mne-bids/gh-pages?filepath=dev/notebooks/auto_examples/mark_bad_channels.ipynb"><img alt="Launch binder" src="../_images/binder_badge_logo.svg" width="150px" /></a>
</div>
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../_downloads/3556547a51e51e9556bdd40badb8d4c8/mark_bad_channels.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">mark_bad_channels.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../_downloads/bcdfe0d0e220cf6da56beb8f9163c326/mark_bad_channels.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">mark_bad_channels.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</div>
</div>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2017-2020, MNE Developers. Last updated on 2020-12-14.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.3.1.<br/>
    </p>
  </div>
</footer>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-37225609-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-37225609-2');
</script>

  </body>
</html>